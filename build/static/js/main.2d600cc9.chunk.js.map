{"version":3,"sources":["static/logo.svg","utils/index.js","feature/edit/Header/HeaderSlice.js","service/index.js","service/service.js","feature/edit/Header/EditCategoryModal.jsx","service/article.js","feature/edit/Header/StatisticsModal.jsx","feature/edit/Annotation/AnnotationSlice.js","feature/edit/Header/Header.jsx","feature/edit/Annotation/Annotation.jsx","feature/edit/Comment/Comment.jsx","feature/admin/ArticleTable/SearchForm.jsx","feature/admin/ArticleTable/ArticleTable.jsx","feature/edit/SideBar/AddModal.jsx","feature/admin/StatisticsModal.jsx","feature/admin/Admin.jsx","service/question.js","feature/book/Book.jsx","feature/xingce/components/Answer.jsx","service/exam.js","feature/xingce/components/CollectIcon.jsx","service/collect.js","feature/book/BookList.jsx","feature/algorithm/AdjacencyListGraph.js","feature/algorithm/Matrix.jsx","feature/algorithm/Algorithm.jsx","utils/math.js","feature/calc/Calc.jsx","feature/calc/Calc2.jsx","app/test.js","feature/wrongQuestion/WrongQuestion.jsx","feature/xingce/XingCe.jsx","feature/xingce/XingCeList.jsx","feature/xingce/components/CategoryTree.jsx","feature/xingce/Exam.jsx","app/App.js","store/index.js","index.js"],"names":["_path","_path2","_path3","_path4","_path5","_path6","_path7","_path8","_path9","_path10","_path11","_path12","_path13","_path14","_path15","_path16","_path17","_path18","_excluded","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","SvgLogo","_ref","svgRef","title","titleId","props","t","className","viewBox","xmlns","width","height","ref","id","d","fill","ForwardRef","mapColorToHex","blue","indigo","purple","pink","red","orange","yellow","green","teal","cyan","presetColor","label","value","getDomByDataId","highlightId","span","document","querySelectorAll","addClass","el","classList","contains","add","setHightlightSpanEl","els","option","text","color","dataset","highlightIdExtra","spans","highlightSplitType","Header","createSlice","name","initialState","categoryList","reducers","createCategory","state","action","len","index","console","log","category","nanoid","type","push","changeCategory","payload","map","item","deleteCategory","filter","updateCategory","actions","LC","init","appId","appKey","serverURL","getConfigFromLeanCloud","objectId","query","Query","get","find","Option","Select","EditCategoryModal","visible","onOk","onCancel","useState","loading","setLoading","dispatch","useDispatch","useSelector","header","useEffect","then","res","list","handleChange","okText","cancelText","confirmLoading","data","config","createWithoutData","forEach","set","save","updateConfigToLeanCloud","message","success","window","location","reload","catch","error","layout","style","marginBottom","Item","onChange","marginTop","borderRadius","backgroundColor","e","placeholder","display","alignItems","MinusCircleOutlined","onClick","Modal","confirm","icon","ExclamationCircleOutlined","content","handleDelete","PlusOutlined","getArticleFromLeanCloud","descending","limit","updateArticleToLeanCloud","StatisticsModal","dataSource","setDataSource","annotationList","annotation","columns","dataIndex","render","obj","No","categoryId","count","categoryName","statisticsData","Annotation","isSave","initAnnotation","score","nationality","createAnnotation","mark","some","deleteAnnotation","updateSavaStatus","status","history","useHistory","params","useParams","isModalVisible","setIsModalVisible","isStatisticsVisible","setIsStatisticsVisible","cls","classNames","handleOk","useCallback","a","annotationCount","err","keyDownFn","event","keyCode","ctrlKey","preventDefault","addEventListener","removeEventListener","pathname","marginLeft","keyCodeList","bind","highlighter","contentRef","useRef","setContent","articleList","setArticleList","pager","setPager","article","articleObj","toJSON","con","str","createElement","innerHTML","textContent","replace","match","replaceAll","processText2","fromStore","start","end","findIndex","char","String","fromCharCode","handleClickBtn","parentElement","removeChild","clearHightLight","current","getCategoryConfigById","h","on","Highlighter","CREATE","sources","hs","startMeta","endMeta","HOVER","HOVER_OUT","removeClass","tagName","listener","returnValue","selection","getSelection","setOption","fromRange","getRangeAt","handleNavigate","url","URL","href","hash","dangerouslySetInnerHTML","__html","when","Comment","prefix","itemLayout","renderItem","annotationId","remove","onMouseEnter","onMouseLeave","SearchForm","Form","useForm","form","handleSelectChange","setFieldsValue","onFinish","values","autoComplete","allowClear","htmlType","mapKeyToText","BLCU","SYSU","mid","high","korea","britain","ArticleTable","onUpdate","searchList","setSearchList","record","size","handleEdit","handleUpdate","onConfirm","danger","destroy","formValues","newData","flag","bordered","pagination","showTotal","total","TextArea","Input","formItemLayout","labelCol","wrapperCol","AddModal","articleId","onFail","handleClose","submit","labelAlign","configs","extend","createArticle","rules","required","rows","Admin","isStaticVisible","setIsStaticVisible","setCategoryList","CSVData","setCSVData","CSVDataText","setCSVDataText","setArticleId","setCount","getArticle","getCategory","csv","anaphora","anno","words","createCsvData","csvText","join","createCsvDataText","filename","Date","now","getQuestionList","questionIds","containedIn","existQuestion","equalTo","addQuestion","question","saveAll","addCategoryQuestion","getCategoryQuestion","addCustomWrongQuestionCategory","XingCe","processCategoryList","toString","shape","children","treeData","Answer","correctAnswer","solution","keypoints","questionMeta","mapIndexToLetter","onClose","correctRatio","toFixed","mostWrongAnswer","choice","getExamList","addExam","CollectIcon","checked","src","alt","getCollectList","XingCeList","includes","split","parseInt","getBookList","sort","b","totalCount","slice","itemLength","accessories","options","Math","max","pos","selectIndex","optionCls","questionId","newDataSource","answerVisible","handleSelectOption","Vertex","sku","Set","AdjacencyListGraph","isDirected","vertices","adjList","Map","commoditySpecs","limitData","reduce","acc","cur","concat","vertex","addVertex","j","k","addEdge","random","skuId","vertexId","v","w","hasVertex","vId","wId","v1","getVertexById","v2","hasEdge","existVertices","s","vertexToString","neighbors","setList","has","vertexIdList","adj","getVertexIdList","arr","getSkuIntersection","result","every","loadDataSource","Matrix","Algorithm","getNumberFromLen","numberLength","num","pow","formatAnswerNumber","number","n","round","getData","answerObj","answer","formatAnswer","input","time","defaultColumn","Calc","column","setColumn","calcMethod","setCalcMethod","setAnswerVisible","acceptRate","setAcceptRate","setData","setTime","Group","newColumn","consumeTime","preItem","handleClickInput","handleChangeInput","onBlur","handleBlur","abs","showIcon","divisionFn","formula","errorAnalysis","divisionFn2","growthFn","addFn","subFn","mulFn","threeMulToOneFn","threeMulFn","fractionFn","mapTypeToFn","Test","remLayoutFn","oHtml","getElementsByTagName","iWidth","documentElement","clientWidth","rootFontSize","fontSize","box","querySelector","wEl","hEl","getBoundingClientRect","Dragger","Upload","WrongQuestion","fileList","setFileList","uploading","multiple","info","file","onDrop","dataTransfer","files","beforeUpload","reader","FileReader","onload","JSON","parse","readAsText","filterRepeatQuestion","qs","ids","shortSource","handleUpload","handleUploadTrain","questionData","InboxOutlined","collectMap","setCollectMap","getCollect","getQuestionIds","callback","newMap","handleCollect","deleteCollect","addCollect","CategoryTree","setTreeData","showData","setShowData","cascaderOptions","setCascaderOptions","inputValue","setInputValue","deleteInputValue","setDeleteInputValue","addModalVisible","setAddModalVisible","deleteModalVisible","setDeleteModalVisible","checkedQuestionIds","setCheckedQuestionIds","getCustomCategory","stringify","getQuestionIdCount","treeNode","newShowData","dfs","getCascaderData","submitQuestion","deleteQuestion","handleCancel","resetFields","getFieldsValue","validateFields","qIds","interArr","lodash","intersection","newQuestionIds","isEqual","deleteIds","newIds","without","xorIds","xor","warn","defaultExpandAll","checkable","onSelect","selectedKeys","selectedKey","checkedNodes","onCheck","okCancel","initialValues","remember","open","Exam","setSelectIndex","pageList","setPageList","collectList","setCollectList","newPageList","handleCopy","html","rightAnswer","qaItem","textarea","body","appendChild","position","clip","top","select","execCommand","copyText","Edit","exceptSelectors","setHighlighter","dispose","App","exact","path","component","Calc2","Book","BookList","store","configureStore","reducer","annotationReducer","headerReducer","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.2d600cc9.chunk.js","sourcesContent":["var _path, _path2, _path3, _path4, _path5, _path6, _path7, _path8, _path9, _path10, _path11, _path12, _path13, _path14, _path15, _path16, _path17, _path18;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgLogo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    t: 1624887109928,\n    className: \"icon\",\n    viewBox: \"0 0 1024 1024\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    \"p-id\": 3819,\n    width: 32,\n    height: 32,\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M187.2 341.7L77.9 232.4c-45.8-45.8-45.8-120.8 0-166.6s120.8-45.8 166.6 0l109.3 109.3c45.8 45.8 45.8 120.8 0 166.6s-120.8 45.8-166.6 0zM838.8 341.7l109.3-109.3c45.8-45.8 45.8-120.8 0-166.6s-120.7-45.8-166.6 0L672.2 175.2c-45.8 45.8-45.8 120.8 0 166.6 45.8 45.7 120.8 45.7 166.6-0.1z\",\n    fill: \"\",\n    \"p-id\": 3820\n  })), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M743.9 905.4l-140.7 15.9c-59.9 6.8-120.4 6.8-180.3 0l-140.7-15.9c-151.6 0-268.3-159.9-247.5-310.1l15.9-115c29.4-213.9 212.2-373.2 428-373.2h68.7c215.9 0 398.6 159.3 428.2 373.1l15.9 115c20.8 150.3-95.9 310.2-247.5 310.2z\",\n    fill: \"#FCFCFC\",\n    \"p-id\": 3821\n  })), _path3 || (_path3 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M513 936.3c-30.5 0-61-1.7-91.3-5.1l-140.2-15.8c-35.3-0.1-69.7-8.4-102.3-24.6-30.8-15.4-58.6-37.2-82.6-64.7-56.2-64.6-83.2-151.3-72-232.1l15.9-115c14.7-106 67.1-202.9 147.6-273 80.5-70.2 183.7-108.8 290.5-108.8h68.7c106.8 0 210 38.6 290.5 108.8a442.92 442.92 0 0 1 147.6 272.9l15.9 115c11.2 80.8-15.8 167.5-72 232.1-24 27.6-51.8 49.4-82.6 64.7-32.6 16.3-67 24.6-102.3 24.6l-140.2 15.8c-30.2 3.5-60.7 5.2-91.2 5.2z m-34.4-819.2c-102 0-200.5 36.9-277.4 103.9-76.8 67-126.9 159.6-140.8 260.6l-15.9 115c-10.4 75.1 14.8 156 67.3 216.2 46.4 53.2 106.9 82.5 170.4 82.5h0.6l0.6 0.1 140.7 15.9c59.1 6.7 119 6.7 178.1 0l141.3-15.9h0.6c63.5 0 124-29.3 170.4-82.5 52.5-60.3 77.7-141.1 67.3-216.2l-15.9-115c-14-101-64-193.6-140.9-260.6-76.9-67-175.4-103.9-277.4-103.9h-69z\",\n    fill: \"#020202\",\n    \"p-id\": 3822\n  })), _path4 || (_path4 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M433.4 495.1c19.4 75.4-54.2 166.4-129.6 185.8S179.7 669 160.3 593.6s26-222.8 101.4-242.2S414 419.7 433.4 495.1z\",\n    fill: \"\",\n    \"p-id\": 3823\n  })), _path5 || (_path5 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M298.6 513.9m-79.3 0a79.3 79.3 0 1 0 158.6 0 79.3 79.3 0 1 0-158.6 0Z\",\n    fill: \"#FFFFFF\",\n    \"p-id\": 3824\n  })), _path6 || (_path6 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M298.6 513.9m-50.9 0a50.9 50.9 0 1 0 101.8 0 50.9 50.9 0 1 0-101.8 0Z\",\n    fill: \"\",\n    \"p-id\": 3825\n  })), _path7 || (_path7 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M315.2 500.6m-20.3 0a20.3 20.3 0 1 0 40.6 0 20.3 20.3 0 1 0-40.6 0Z\",\n    fill: \"#FFFFFF\",\n    \"p-id\": 3826\n  })), _path8 || (_path8 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M592.6 495.1c-19.4 75.4 54.2 166.4 129.6 185.8s124.1-11.9 143.5-87.3c19.4-75.4-26-222.8-101.4-242.2S612 419.7 592.6 495.1z\",\n    fill: \"\",\n    \"p-id\": 3827\n  })), _path9 || (_path9 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M727.4 513.9m-79.3 0a79.3 79.3 0 1 0 158.6 0 79.3 79.3 0 1 0-158.6 0Z\",\n    fill: \"#FFFFFF\",\n    \"p-id\": 3828\n  })), _path10 || (_path10 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M727.4 513.9m-50.9 0a50.9 50.9 0 1 0 101.8 0 50.9 50.9 0 1 0-101.8 0Z\",\n    fill: \"\",\n    \"p-id\": 3829\n  })), _path11 || (_path11 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M710.8 500.6m-20.3 0a20.3 20.3 0 1 0 40.6 0 20.3 20.3 0 1 0-40.6 0Z\",\n    fill: \"#FFFFFF\",\n    \"p-id\": 3830\n  })), _path12 || (_path12 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M466.3 695.3a46.7 34.5 0 1 0 93.4 0 46.7 34.5 0 1 0-93.4 0Z\",\n    fill: \"\",\n    \"p-id\": 3831\n  })), _path13 || (_path13 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M485.9 823.1c0 9.5-12.1 17.1-27.1 17.1-15 0-27.1-7.7-27.1-17.1\",\n    fill: \"#FCFCFC\",\n    \"p-id\": 3832\n  })), _path14 || (_path14 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M458.8 850.3c-20.8 0-37.1-11.9-37.1-27.1 0-5.5 4.5-10 10-10s10 4.5 10 10c0 2.2 6.5 7.1 17.1 7.1 10.6 0 17.1-5 17.1-7.1 0-5.5 4.5-10 10-10s10 4.5 10 10c0 15.1-16.3 27.1-37.1 27.1z\",\n    fill: \"\",\n    \"p-id\": 3833\n  })), _path15 || (_path15 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M594.3 823.1c0 9.5-12.1 17.1-27.1 17.1-15 0-27.1-7.7-27.1-17.1\",\n    fill: \"#FCFCFC\",\n    \"p-id\": 3834\n  })), _path16 || (_path16 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M567.2 850.3c-20.8 0-37.1-11.9-37.1-27.1 0-5.5 4.5-10 10-10s10 4.5 10 10c0 2.2 6.5 7.1 17.1 7.1s17.1-5 17.1-7.1c0-5.5 4.5-10 10-10s10 4.5 10 10c0 15.1-16.3 27.1-37.1 27.1z\",\n    fill: \"\",\n    \"p-id\": 3835\n  })), _path17 || (_path17 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M485.9 823.1c0-9.5 12.1-17.1 27.1-17.1 15 0 27.1 7.7 27.1 17.1\",\n    fill: \"#FCFCFC\",\n    \"p-id\": 3836\n  })), _path18 || (_path18 = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M550.1 823.1h-20c0-2.2-6.5-7.1-17.1-7.1-10.6 0-17.1 5-17.1 7.1h-20c0-15.2 16.3-27.1 37.1-27.1s37.1 11.9 37.1 27.1z\",\n    fill: \"\",\n    \"p-id\": 3837\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogo);\nexport default __webpack_public_path__ + \"static/media/logo.82a9289e.svg\";\nexport { ForwardRef as ReactComponent };","/**\n * 数据格式设计\n *\n *\n * [{\n *   code: '',\n *   nationality: '',\n *   sex: '',\n *   time: '',\n *   title: '', 1. 标题\n *   score: '', 2. 水平（中级和高级）\n *   certificate: '', 3. 体裁 4. 国籍 5. 文章内容 6. 来源 7. 自定义\n *   content: {\n *     info: '',\n *     txt: ''\n *   }\n *   formatContent: {\n *     info: '',\n *     txt: ''\n *   },\n *   annotation: {\n *     123:''\n *   }\n * }]\n */\n// var data = new FormData()\n// data.append('zwm', '199312123523100103')\n\n// const queryData = () => {}\n\n// const getContent = zwm => {\n//     fetch('http://hsk.blcu.edu.cn/Index/get_zwm_txt', {\n//         method: 'POST',\n//         body: `zwm=${zwm}`,\n//         headers: {\n//             Cookie: 'PHPSESSID=3t94eftd5s7n3n9a06euflqv6d; PHPSESSID_NS_Sig=oenCV6mfmnop-1Pu; VGOTCN_OnLineCount=U2',\n//             'User-Agent':\n//                 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/91.0.4472.101 Safari/537.36',\n//             'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8',\n//         },\n//     })\n//         .then(response => response.json())\n//         .then(json => {\n//             console.log('json')\n//         })\n//         .catch(err => console.log('Request Failed', err))\n// }\n\n// // 替换文本\n// const main = () => {}\n\n// '{CP做为[C]清官来[F來]讲[C]，法律应该[F該]是无情的。P}'.replace(\n//     /\\{CP(.*?)P\\}/g,\n//     '$1'\n// )\n// // \\{CP(.*?)P\\}\n// var str = ''\n// str\n//     .replace(/\\[.*?\\]/g, '')\n//     // 忽略CP标注\n//     .replace(/\\{CP(.*?)P\\}/g, '$1')\n//     .replace(/\\{CQ(.*?)Q\\}/g, '$1')\n//     .replace(/\\{.*?\\}/g, '')`\n// 199508香港.0000705436341504\n//   “安乐死”是一件[C]不平凡的事情。从不同的角度看这[F這]个问题会有不[C]同的见解和结论。争论的主要焦点在于如何处理好法律与[C]人之常情{CC人事常情}{CQ的}关系。\n//     根据严格的法律，我相信法院判的对。既然故意杀人，就有罪。{CP做为[C]清官来[F來]讲[C]，法律应该[F該]是无情的。P}法官会认[C]为如果法律随[F隨]时变动，可妥[C]协的话[F話]，一个国家如何用{CJ+sy执行}法制来[F來]治[B制]理{CJ+by国家}呢？\n//     {CP可是不幸的是世界上的千变万[C]化，另外人民的人情关系，宗[B崇]教信仰及风俗习惯都具有悠[B攸]久的历史。P}我们[F們]的法律制度不仅不可能提供足够[F夠]的条例[C]来[F來]概括人们[F們]生活中多种多样{CJ+dy发生}的事情，另外在很多方面[L]将与人们[F們]的风俗习惯，崇教信仰发生冲突。\n//     {CP因此虽然从法律的观[C]点{CQ来看}似乎[B呼]法院的判决是{CD有}符合法律的，可是根据人情的道理，由于他的杀人目[C]的是好意，即为了使他的妻子不再痛苦，法院的判决，说[F說]他故意杀人罪是没有道理{CJsd}[BQ。]P}\n//     从以上的两[F兩]个[F個]不同观[C]点{CQ来看}，我觉[C]得评[F評]论[C]“安乐死”事件不能一边倒[C]。我们[F們]不能简单的说[F說]丈夫有罪或无罪，因为我[C]们[F們]既[B即]要讲[C]法律也要讲[C]人情。{CP我觉[C]得最好的方法是调[F調]查当地人们[F們]的意见[F見]，慎重考虑是否在人情的分上，我们[F們]是否应该[F該]这[F這]件做一个明智的决定，即不削[B消]弱法律的作用，又可以照[C]顾[C]人情的道理。P}\n//     另外，我[C]们还可以提出，根据“安乐死”事件，修正或更改我们[F們]的法律条例[C]，为以后发生的类似事件提供既{CC又}符合法律又{CC及}符合人情的解[C]决方法。\n// `\n\nexport const mapColorToHex = {\n    blue: '#0d6efd',\n    indigo: '#6610f2',\n    purple: '#6f42c1',\n    pink: '#d63384',\n    red: '#dc3545',\n    orange: '#fd7e14',\n    yellow: '#ffc107',\n    green: '#198754',\n    teal: '#20c997',\n    cyan: '#0dcaf0',\n}\n\nexport const presetColor = [\n    {\n        key: 'blue',\n        label: '蓝色',\n        value: '#0d6efd',\n    },\n    {\n        key: 'indigo',\n        label: '靛蓝色',\n        value: '#6610f2',\n    },\n    {\n        key: 'purple',\n        label: '紫色',\n        value: '#6f42c1',\n    },\n    {\n        key: 'pink',\n        label: '粉色',\n        value: '#d63384',\n    },\n    {\n        key: 'red',\n        label: '红色',\n        value: '#dc3545',\n    },\n    {\n        key: 'orange',\n        label: '橙色',\n        value: '#fd7e14',\n    },\n    {\n        key: 'yellow',\n        label: '黄色',\n        value: '#ffc107',\n    },\n    {\n        key: 'green',\n        label: '绿色',\n        value: '#198754',\n    },\n    {\n        key: 'teal',\n        label: '蓝绿色',\n        value: '#20c997',\n    },\n    {\n        key: 'cyan',\n        label: '青色',\n        value: '#0dcaf0',\n    },\n]\n\n// 通过属性选择器，获取对应的\nexport const getDomByDataId = highlightId => {\n    let span = document.querySelectorAll(\n        `span[data-highlight-id=\"${highlightId}\"]`\n    )\n    if (span.length <= 0)\n        span = document.querySelectorAll(\n            `span[data-highlight-id-extra=\"${highlightId}\"]`\n        )\n    return span\n}\n\n// 清除高亮区域下所有的i标签\nexport const clearHightLight = el => {\n    const list = el.querySelectorAll('i')\n    for (let i = 0; i < list.length; i++) {\n        const parentElement = list[i].parentElement\n        parentElement.removeChild(list[i])\n    }\n}\n\nexport const addClass = (el, className) => {\n    if (!el.classList.contains(className)) {\n        el.classList.add(className)\n    }\n}\n\n// 对高亮的span元素进行设置\nexport const setHightlightSpanEl = (els, option) => {\n    const { text, color } = option\n    for (let i = 0; i < els.length; i++) {\n        let el = els[i]\n        addClass(el, `color-${color}`)\n        let highlightId = el.dataset.highlightIdExtra || el.dataset.highlightId\n        const spans = getDomByDataId(highlightId)\n        if (el === spans[0]) {\n            if (!el.dataset.text || el.dataset.text === 'null') {\n                // console.log('el被设置为', text, highlightId)\n                el.dataset.text = text\n            }\n        } else {\n            // console.log('el被设置为', null, highlightId)\n            el.dataset.text = 'null'\n            if (el.dataset.highlightSplitType === 'tail') {\n                if (spans[0].dataset.text === 'null') {\n                    spans[0].dataset.text = text\n                }\n            }\n        }\n        // 再添加新的\n    }\n}\n","import { createSlice, nanoid } from '@reduxjs/toolkit'\nimport { presetColor } from '../../../utils'\n// 预设的颜色\n\nconst initialState = {\n    categoryList: [\n        // {\n        //     id: '', // 唯一id\n        //     text: '', // 文案\n        //     color: '', // 颜色\n        //     type: '', // 标注类型 accpet | wrong\n        // },\n    ],\n}\n\nexport const Header = createSlice({\n    name: 'header',\n    initialState,\n    reducers: {\n        createCategory: (state, action) => {\n            const len = state.categoryList.length\n            const index =\n                len < presetColor.length ? len : presetColor.length - 1\n            console.log(\n                'presetColor[index].key',\n                presetColor[index],\n                presetColor[index].key\n            )\n            const category = {\n                id: nanoid(),\n                text: '',\n                color: presetColor[index].key,\n                type: 'accept',\n            }\n            state.categoryList.push(category)\n        },\n        changeCategory: (state, action) => {\n            const { id, name, value } = action.payload\n            console.log('action.payload', action.payload)\n            state.categoryList = state.categoryList.map(item => {\n                if (id === item.id) {\n                    return {\n                        ...item,\n                        [name]: value,\n                    }\n                } else {\n                    return item\n                }\n            })\n        },\n        deleteCategory: (state, action) => {\n            const id = action.payload\n            state.categoryList = state.categoryList.filter(\n                item => item.id !== id\n            )\n        },\n        updateCategory: (state, action) => {\n            state.categoryList = action.payload\n        },\n    },\n})\n\nexport const {\n    createCategory,\n    changeCategory,\n    updateCategory,\n    deleteCategory,\n} = Header.actions\n\nexport default Header.reducer\n","import LC from 'leancloud-storage'\n\n// leanCloud 初始化\nLC.init({\n    appId: 'zhG78X78KsJ4MuyLquDrtexj-gzGzoHsz',\n    appKey: 'QhcOlKH32P32CCaEUbzJJWbo',\n    serverURL: 'https://zhg78x78.lc-cn-n1-shared.com',\n})\n\n// 封装增删改查的函数\n\nclass Util {\n    // get查询\n    get(options) {\n        const { tableName, objectId } = options\n        const query = new LC.Query(tableName)\n        if (objectId) return query.get(objectId)\n        else {\n            query.limit(1000)\n            return query.find()\n        }\n    }\n}\n\nexport default LC\n","// 服务提供.\nimport LC from './index'\n\n// 登录接口\nexport const Login = (username, password) => {\n    return LC.User.logIn(username, password)\n}\n\n// 新增配置到leanCloud\nexport const addConfigToLeanCloud = data => {\n    const Configs = LC.Object.extend('Configs')\n    const configs = new Configs()\n    Object.keys(data).forEach(key => {\n        configs.set(key, data[key])\n    })\n    return configs.save()\n}\n\n// 从leanCloud获取数据\nexport const getConfigFromLeanCloud = objectId => {\n    const query = new LC.Query('Configs')\n    if (objectId) return query.get(objectId)\n    else return query.find()\n}\n\n// update\nexport const updateConfigToLeanCloud = (objectId, data) => {\n    const config = LC.Object.createWithoutData('Configs', objectId)\n    Object.keys(data).forEach(key => {\n        config.set(key, data[key])\n    })\n    return config.save()\n}\n\n// delete\nexport const deleteConfigToLeanCloud = objectId => {\n    const todo = LC.Object.createWithoutData('Configs', objectId)\n    return todo.destroy()\n}\n\n// test\nexport const testConfigFromLeanCloud = () => {\n    const query = new LC.Query('Configs')\n    query.find().then(configs => {\n        console.log('configs', configs)\n    })\n}\n\nexport const queryListFromLeanCloud = data => {\n    const query = new LC.Query('Configs')\n    Object.keys(data).forEach(key => {\n        data[key] && query.equalTo(key, data[key])\n    })\n    return query.find()\n}\n\n// export const updateConfig = createAsyncThunk(\n//     'category/updateConfig',\n//     async (option, { getState}) => {\n\n//     }\n// )\n","import React, { useState } from 'react'\nimport { Button, Form, Modal, Input, Row, Col, Select, message } from 'antd'\nimport {\n    MinusCircleOutlined,\n    PlusOutlined,\n    ExclamationCircleOutlined,\n} from '@ant-design/icons'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n    changeCategory,\n    createCategory,\n    updateCategory,\n    deleteCategory,\n} from './HeaderSlice'\nimport { mapColorToHex, presetColor } from '../../../utils'\nimport { useEffect } from 'react'\nimport {\n    getConfigFromLeanCloud,\n    updateConfigToLeanCloud,\n} from '../../../service/service'\nimport './Header.scss'\n\nconst { Option } = Select\nconst objectId = '610291721de21d3e072c5432'\nconst EditCategoryModal = props => {\n    const { visible, onOk, onCancel } = props\n    const [loading, setLoading] = useState(false)\n    const dispatch = useDispatch()\n    //\n    const categoryList = useSelector(state => state.header.categoryList)\n    const header = useSelector(state => state.header)\n    const handleEdit = () => {\n        setLoading(true)\n        updateConfigToLeanCloud(objectId, {\n            categoryList: categoryList,\n        })\n            .then(res => {\n                setLoading(false)\n                message.success('上传成功')\n                window.location.reload()\n                onOk && onOk()\n            })\n            .catch(() => {\n                setLoading(false)\n                message.error('上传失败')\n            })\n    }\n\n    const handleCancel = () => {\n        onCancel && onCancel()\n    }\n\n    useEffect(() => {\n        getConfigFromLeanCloud(objectId).then(res => {\n            const list = res.get('categoryList')\n            // 更新到redux中\n            dispatch(updateCategory(list))\n        })\n    }, [])\n\n    const handleAdd = () => {\n        dispatch(createCategory())\n    }\n\n    const handleChange = ({ id, value, name }) => {\n        dispatch(\n            changeCategory({\n                id,\n                value,\n                name,\n            })\n        )\n    }\n\n    const handleDelete = id => {\n        Modal.confirm({\n            title: '删除',\n            icon: <ExclamationCircleOutlined />,\n            content: '删除该标注后，曾经使用过该标注的数据无法正确显示',\n            okText: '确认',\n            cancelText: '取消',\n            onCancel: () => {\n                console.log('取消')\n            },\n            onOk: () => {\n                dispatch(deleteCategory(id))\n                console.log('删除', id)\n            },\n        })\n    }\n\n    return (\n        <Modal\n            title='编辑配置'\n            okText='确定'\n            cancelText='取消'\n            confirmLoading={loading}\n            visible={visible}\n            onOk={handleEdit}\n            width={800}\n            onCancel={handleCancel}\n        >\n            <Form layout={'inline'}>\n                {categoryList.map((item, index) => {\n                    const { id, text, color, type } = item\n                    return (\n                        <Row style={{ marginBottom: 30 }} key={id}>\n                            <Col>\n                                <Form.Item label='标注颜色'>\n                                    <Select\n                                        value={color}\n                                        style={{ width: 120 }}\n                                        onChange={value =>\n                                            handleChange({\n                                                id,\n                                                value,\n                                                name: 'color',\n                                            })\n                                        }\n                                    >\n                                        {presetColor.map((item, index) => {\n                                            const { key, label } = item\n                                            return (\n                                                <Option key={index} value={key}>\n                                                    {label}\n                                                </Option>\n                                            )\n                                        })}\n                                    </Select>\n                                    <div\n                                        style={{\n                                            marginTop: 5,\n                                            borderRadius: 3,\n                                            height: 20,\n                                            backgroundColor:\n                                                mapColorToHex[color],\n                                        }}\n                                    />\n                                </Form.Item>\n                            </Col>\n                            <Col>\n                                <Form.Item label='标注文案'>\n                                    <Input\n                                        value={text}\n                                        onChange={e =>\n                                            handleChange({\n                                                id,\n                                                value: e.target.value,\n                                                name: 'text',\n                                            })\n                                        }\n                                        placeholder='请输入标注的文案'\n                                    />\n                                </Form.Item>\n                            </Col>\n                            <Col>\n                                <Form.Item label='批注类型'>\n                                    <Select\n                                        value={type}\n                                        style={{ width: 120 }}\n                                        onChange={value =>\n                                            handleChange({\n                                                id,\n                                                value,\n                                                name: 'type',\n                                            })\n                                        }\n                                    >\n                                        <Option value='accept'>正确类型</Option>\n                                        <Option value='wrong'>错误类型</Option>\n                                    </Select>\n                                </Form.Item>\n                            </Col>\n                            <div\n                                style={{\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                }}\n                                className='delete'\n                            >\n                                <MinusCircleOutlined\n                                    onClick={() => handleDelete(item.id)}\n                                />\n                            </div>\n                        </Row>\n                    )\n                })}\n                <Button\n                    type='dashed'\n                    onClick={() => handleAdd()}\n                    style={{ marginTop: 30 }}\n                    icon={<PlusOutlined />}\n                >\n                    添加标注\n                </Button>\n            </Form>\n        </Modal>\n    )\n}\n\nexport default EditCategoryModal\n","import LC from './index'\n\n/**\n * 添加文章\n * @param {*} data\n * @returns\n */\nexport const createArticle = data => {\n    // 文章表里添加文章相关数据\n    const Configs = LC.Object.extend('Article')\n    const configs = new Configs()\n    Object.keys(data).forEach(key => {\n        configs.set(key, data[key])\n    })\n    return configs.save()\n}\n\n/**\n * 添加文章内容\n * @param {*} data\n * @returns\n */\n// export const createArticle = data => {\n//     const Configs = LC.Object.extend('Article')\n//     const configs = new Configs()\n//     Object.keys(data).forEach(key => {\n//         configs.set(key, data[key])\n//     })\n//     return configs.save()\n// }\n\n// 从leanCloud获取数据\nexport const getArticleFromLeanCloud = objectId => {\n    const query = new LC.Query('Article')\n    query.descending('createdAt')\n    if (objectId) return query.get(objectId)\n    else {\n        query.limit(500)\n        return query.find()\n    }\n}\n\n// update\nexport const updateArticleToLeanCloud = (objectId, data) => {\n    const config = LC.Object.createWithoutData('Article', objectId)\n    Object.keys(data).forEach(key => {\n        config.set(key, data[key])\n    })\n    return config.save()\n}\n\n// delete\nexport const deleteArticleToLeanCloud = objectId => {\n    const todo = LC.Object.createWithoutData('Article', objectId)\n    return todo.destroy()\n}\n","import React, { useEffect, useState } from 'react'\nimport { Button, Form, Modal, Table, Select, message } from 'antd'\nimport { useDispatch, useSelector } from 'react-redux'\nimport './Header.scss'\n\nconst { Option } = Select\nconst objectId = '610291721de21d3e072c5432'\nconst StatisticsModal = props => {\n    const { visible, onOk, onCancel } = props\n    const [loading, setLoading] = useState(false)\n    const dispatch = useDispatch()\n    const [dataSource, setDataSource] = useState([])\n    //\n    const config = useSelector(state => state.annotation.config)\n    const annotationList = useSelector(state => state.annotation.annotationList)\n    const categoryList = useSelector(state => state.header.categoryList)\n\n    const handleEdit = () => {\n        onCancel && onCancel()\n    }\n\n    const handleCancel = () => {\n        console.log('？？？调用一下啊')\n        onCancel && onCancel()\n    }\n\n    const columns = [\n        {\n            title: 'No.',\n            dataIndex: 'No',\n            key: 'No',\n        },\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: 'Count',\n            dataIndex: 'count',\n            key: 'count',\n        },\n        {\n            title: 'Text',\n            dataIndex: 'text',\n            key: 'text',\n            render: text => (\n                <div>\n                    {text.map((item, index) => {\n                        return (\n                            <div key={index}>\n                                {index + 1}. {item}\n                            </div>\n                        )\n                    })}\n                </div>\n            ),\n        },\n    ]\n\n    useEffect(() => {\n        if (visible && annotationList && annotationList.length > 0) {\n            const obj = {}\n            let No = 0\n            annotationList.forEach((item, index) => {\n                const { categoryId, text } = item\n                if (obj[categoryId]) {\n                    obj[categoryId].count = obj[categoryId].count + 1\n                    obj[categoryId].text.push(text)\n                } else {\n                    const config = categoryList.find(i => i.id === categoryId)\n                    const categoryName = config.text\n                    obj[categoryId] = {\n                        key: No,\n                        No: No++,\n                        name: categoryName,\n                        text: [text],\n                        count: 1,\n                    }\n                }\n            })\n            const statisticsData = Object.keys(obj).map(key => {\n                const item = obj[key]\n                return item\n            })\n            setDataSource(statisticsData)\n        }\n    }, [annotationList, visible, categoryList])\n\n    return (\n        <Modal\n            title='统计分析'\n            okText='确定'\n            cancelText='取消'\n            confirmLoading={loading}\n            visible={visible}\n            onOk={handleEdit}\n            width={800}\n            onCancel={handleCancel}\n        >\n            <Table dataSource={dataSource} columns={columns} />;\n        </Modal>\n    )\n}\n\nexport default StatisticsModal\n","import { createSlice } from '@reduxjs/toolkit'\n\nconst initialState = {\n    annotationList: [], // {id, text, }\n    config: {}, // 文章的配置信息, 等级，来源，国籍\n    isSave: false, // 是否保存\n}\n\nexport const Annotation = createSlice({\n    name: 'annotation',\n    initialState,\n    reducers: {\n        initAnnotation: (state, action) => {\n            const obj = action.payload\n            const { annotation, score, nationality, source } = obj\n            state.annotationList = annotation || []\n            state.config = {\n                score,\n                nationality,\n                source,\n            }\n        },\n        createAnnotation: (state, action) => {\n            const mark = action.payload\n            // 如果mark已经存在在annotationList中，则不被添加\n            const repeat = state.annotationList.some(\n                item => item.id === mark.id\n            )\n            if (!repeat) {\n                state.annotationList.push(mark)\n            }\n        },\n        deleteAnnotation: (state, action) => {\n            const id = action.payload\n            state.annotationList = state.annotationList.filter(\n                item => item.id !== id\n            )\n        },\n        updateSavaStatus: (state, action) => {\n            const status = action.payload\n            state.isSave = status\n        },\n    },\n})\n\nexport const {\n    initAnnotation,\n    createAnnotation,\n    deleteAnnotation,\n    updateSavaStatus,\n} = Annotation.actions\n\nexport default Annotation.reducer\n","import React, { useCallback, useEffect } from 'react'\nimport classNames from 'classnames'\nimport { ReactComponent as Logo } from '../../../static/logo.svg'\nimport { Button, message } from 'antd'\nimport './Header.scss'\nimport { useState } from 'react'\nimport EditCategoryModal from './EditCategoryModal'\nimport { useSelector } from 'react-redux'\nimport { useHistory, useParams } from 'react-router'\nimport { updateArticleToLeanCloud } from '../../../service/article'\nimport StatisticsModal from './StatisticsModal'\nimport { useDispatch } from 'react-redux'\nimport { updateSavaStatus } from '../Annotation/AnnotationSlice'\n\nconst Header = props => {\n    const { className, type = 'edit' } = props\n    const history = useHistory()\n    const params = useParams()\n    const dispatch = useDispatch()\n    const [loading, setLoading] = useState(false)\n    const [isModalVisible, setIsModalVisible] = useState(false)\n    const [isStatisticsVisible, setIsStatisticsVisible] = useState(false)\n    const annotationList = useSelector(state => state.annotation.annotationList)\n    const prefix = 'zz-header'\n    const cls = classNames({\n        [prefix]: true,\n        [className]: className,\n    })\n    const handleOk = useCallback(async () => {\n        const { objectId } = params\n        console.log('annotationList', annotationList, objectId)\n        setLoading(true)\n        updateArticleToLeanCloud(objectId, {\n            annotation: annotationList,\n            annotationCount: annotationList.length || 0,\n        })\n            .then(res => {\n                message.success('保存成功！')\n                dispatch(updateSavaStatus(false))\n                setLoading(false)\n            })\n            .catch(err => {\n                message.success('保存失败，请检查网络设置！')\n                setLoading(false)\n            })\n    }, [annotationList])\n\n    useEffect(() => {\n        const keyDownFn = event => {\n            const keyCode = event.keyCode\n\n            if (keyCode == 83 && window.event.ctrlKey) {\n                window.event.preventDefault()\n                handleOk()\n            }\n        }\n        window.addEventListener('keydown', keyDownFn)\n\n        return () => {\n            window.removeEventListener('keydown', keyDownFn)\n        }\n    }, [handleOk])\n\n    const handleCancel = () => {\n        setIsModalVisible(false)\n    }\n\n    const handleNavigate = () => {\n        history.push({\n            pathname: `/admin`,\n        })\n    }\n\n    return (\n        <div className={cls}>\n            <div className='left'>\n                <div className='logo' onClick={handleNavigate}>\n                    <Logo />\n                </div>\n                <div className='title'>语料标注与统计系统</div>\n            </div>\n            {type === 'edit' && (\n                <div className='right'>\n                    <Button\n                        loading={loading}\n                        type='outline-secondary'\n                        onClick={handleOk}\n                    >\n                        保存记录\n                    </Button>\n\n                    <Button\n                        style={{ marginLeft: 30 }}\n                        onClick={() => setIsModalVisible(true)}\n                        type='outline-secondary'\n                    >\n                        编辑配置\n                    </Button>\n                    <Button\n                        style={{ marginLeft: 30 }}\n                        type='outline-secondary'\n                        onClick={() => setIsStatisticsVisible(true)}\n                    >\n                        统计分析\n                    </Button>\n                </div>\n            )}\n            {/* 配置编辑 */}\n            <EditCategoryModal\n                visible={isModalVisible}\n                onOk={handleOk}\n                onCancel={handleCancel}\n            />\n            {/* 统计分析 */}\n            <StatisticsModal\n                visible={isStatisticsVisible}\n                onCancel={() => setIsStatisticsVisible(false)}\n            />\n        </div>\n    )\n}\n\nexport default Header\n","/**\n * 技术方案构想：\n * 每次编辑后，将html传给服务器即可。\n *\n * UI设计。\n * - 高亮\n * - 标签\n */\nimport React, { useState } from 'react'\nimport classNames from 'classnames'\nimport { useEffect } from 'react'\nimport { useRef } from 'react'\nimport Highlighter from 'web-highlighter'\nimport './Annotation.scss'\nimport { Button, message } from 'antd'\nimport { useDispatch, useSelector } from 'react-redux'\nimport {\n    setHightlightSpanEl,\n    getDomByDataId,\n    clearHightLight,\n} from '../../../utils/index'\nimport {\n    initAnnotation,\n    createAnnotation,\n    updateSavaStatus,\n} from './AnnotationSlice'\nimport { Prompt, useHistory, useParams } from 'react-router'\nimport { getArticleFromLeanCloud } from '../../../service/article'\n\nconst log = console.log.bind(console, '[annota]')\n// 自定义颜色。\nconst keyCodeList = '123456789ABCDEFGHIJKLMNOPQRSTVWXYZ'\nconst processText = str => {\n    // 已经处理过的不再处理\n    // if (str.includes('<br/>')) return str\n    return str\n        .replace(/\\[.*?\\]/g, '')\n        .replace(/\\{CP(.*?)P\\}/g, '$1')\n        .replace(/\\{CQ(.*?)\\}/g, '$1')\n        .replace(/\\{.*?\\}/g, '')\n        .replaceAll('。', '。</p><p>')\n        .replaceAll('\\n', '')\n        .replaceAll(' ', '')\n    // .replaceAll('<br/>', '</p><p>')\n}\n\n// 处理中山大学\nconst processText2 = str => {\n    const el = document.createElement('div')\n    el.innerHTML = str\n    return (\n        el.textContent\n            .replace(/\\n/g, '')\n            .replace(/&/g, '')\n            .replace(/@/g, '')\n            // .replace(/([a-zA-Z])\\w+/g, '')\n            .replace(/<.>/g, '')\n            .replace(/CZ|BZ|SBZ|BGFZ/g, '')\n            .replace(/<>/g, '')\n            .replace(/(【(.*?)】)/g, match => {\n                return match[1]\n            })\n            .replaceAll('。', '。</p><p>')\n    )\n}\n\n// 侧边栏\nconst Annotation = props => {\n    const params = useParams()\n    const { className, highlighter } = props\n    const contentRef = useRef(null)\n    const dispatch = useDispatch()\n    const [content, setContent] = useState('')\n    const [articleList, setArticleList] = useState([])\n    const [pager, setPager] = useState({})\n    const categoryList = useSelector(state => state.header.categoryList)\n    const annotationList = useSelector(state => state.annotation.annotationList)\n    const isSave = useSelector(state => state.annotation.isSave)\n\n    const prefix = 'zz-annotation'\n    const cls = classNames({\n        [prefix]: true,\n        [className]: className,\n    })\n\n    useEffect(() => {\n        const { objectId } = params\n        getArticleFromLeanCloud(objectId).then(article => {\n            const articleObj = article.toJSON()\n            const list = articleObj.annotation\n            let con = ''\n            if (articleObj.source === 'SYSU') {\n                con = processText2(articleObj.article)\n            } else {\n                con = processText(articleObj.article)\n            }\n            setContent(con)\n            // 初始化标注状态\n            dispatch(initAnnotation(articleObj))\n            if (list) {\n                // 还原DOM\n                list.forEach(item => {\n                    highlighter.fromStore(\n                        item.start,\n                        item.end,\n                        item.text,\n                        item.id\n                    )\n                })\n            }\n        })\n    }, [params, highlighter])\n\n    useEffect(() => {\n        const { objectId } = params\n        getArticleFromLeanCloud().then(\n            res => {\n                const data = res.map((item, index) => {\n                    return {\n                        objectId: item.id,\n                        No: index + 1,\n                        ...item.toJSON(),\n                    }\n                })\n                setArticleList(data)\n                const index = data.findIndex(item => item.objectId === objectId)\n                setPager({\n                    index: index + 1,\n                    length: data.length,\n                })\n            },\n            () => {\n                message.error('获取文章失败')\n            }\n        )\n    }, [params])\n\n    useEffect(() => {\n        const keyDownFn = event => {\n            const keyCode = event.keyCode\n            if (keyCode && !window.event.ctrlKey) {\n                const char = String.fromCharCode(keyCode)\n                const index = keyCodeList.indexOf(char)\n                if (index != -1 && index < categoryList.length) {\n                    const category = categoryList[index]\n                    handleClickBtn(category)\n                }\n            }\n        }\n        window.addEventListener('keydown', keyDownFn)\n\n        return () => {\n            window.removeEventListener('keydown', keyDownFn)\n        }\n    }, [categoryList])\n\n    useEffect(() => {\n        // 往里面添加\n        if (annotationList.length < 0) return\n\n        // 清空画布\n        clearHightLight(contentRef.current)\n        // 通过配置项id去找配置项\n        const getCategoryConfigById = categoryId => {\n            return categoryList.find(item => item.id === categoryId)\n        }\n\n        for (let i = 0; i < annotationList.length; i++) {\n            const { id, categoryId } = annotationList[i]\n            const els = getDomByDataId(id)\n            // 拿出config的配置\n            const config = getCategoryConfigById(categoryId)\n            if (config) {\n                const { text, color } = config\n                setHightlightSpanEl(els, {\n                    text,\n                    color,\n                })\n            }\n        }\n    }, [annotationList, categoryList])\n\n    useEffect(() => {\n        if (!highlighter) return\n        const h = highlighter\n\n        h.on(Highlighter.event.CREATE, function (option) {\n            const { sources } = option\n            // log('这是被创建成功之后data', sources, sources.id)\n            sources.map(hs => {\n                const obj = {\n                    start: hs.start || hs.startMeta,\n                    end: hs.end || hs.endMeta,\n                    text: hs.text,\n                    id: hs.id,\n                    categoryId: hs.categoryId || window.categoryId,\n                    config: Object.assign(hs.config || {}, window.config),\n                }\n                dispatch(createAnnotation(obj))\n            })\n        })\n            // .on(Highlighter.event.CLICK, ({ id }) => {})\n            .on(Highlighter.event.HOVER, ({ id }) => {\n                h.addClass('highlight-wrap-hover', id)\n            })\n            .on(Highlighter.event.HOVER_OUT, ({ id }) => {\n                h.removeClass('highlight-wrap-hover', id)\n            })\n    }, [highlighter])\n\n    useEffect(() => {\n        contentRef.current.addEventListener('click', e => {\n            const target = e.target\n            if (target.tagName === 'span') {\n                // 这里做一些操作。\n            }\n        })\n        // return () => {\n\n        // }\n    }, [])\n\n    useEffect(() => {\n        const listener = e => {\n            e.preventDefault()\n            if (isSave) {\n                e.returnValue = '您的数据尚未保存，离开后会丢失'\n            } else {\n                e.returnValue = ''\n            }\n        }\n        isSave && window.addEventListener('beforeunload', listener)\n        return () => {\n            window.removeEventListener('beforeunload', listener)\n        }\n    }, [isSave])\n\n    const handleClickBtn = config => {\n        const { id, color } = config\n\n        // 将配置id存在window对象中\n        window.categoryId = id\n        const h = highlighter\n        const className = `color-${color}`\n        const selection = window.getSelection()\n        h.setOption({\n            style: {\n                className,\n            },\n        })\n        h.fromRange(selection.getRangeAt(0))\n\n        dispatch(updateSavaStatus(true))\n    }\n\n    const handleNavigate = type => {\n        const { objectId } = params\n        let index = articleList.findIndex(item => item.objectId === objectId)\n        if (type === 'pre') {\n            index -= 1\n        } else if (type === 'next') {\n            index += 1\n        }\n        if (index >= 0 && index < articleList.length) {\n            if (!isSave) {\n                const data = articleList[index]\n                const url = new URL(window.location.href)\n                url.hash = `#/edit/${data.objectId}`\n                window.location.href = url.href\n            } else {\n                message.error('文章忘记保存了，保存一下')\n            }\n        } else {\n            message.error('已经是第一篇文章或最后一篇文章了，不能再跳转了')\n        }\n    }\n\n    console.log('isSave', isSave)\n    return (\n        <div className={cls}>\n            <div className='action'>\n                {categoryList.map((item, index) => {\n                    const { color, text } = item\n                    return (\n                        <Button\n                            key={index}\n                            onClick={() => handleClickBtn(item)}\n                        >\n                            {keyCodeList[index]}：{text}\n                        </Button>\n                    )\n                })}\n            </div>\n            <div\n                id='iloveyryr'\n                ref={contentRef}\n                // key={Date.now()}\n                className='content'\n                dangerouslySetInnerHTML={{ __html: content }}\n            />\n\n            <Prompt when={isSave} message='您的内容尚未保存确定要离开吗?' />\n\n            <div className='action'>\n                <Button onClick={() => handleNavigate('pre')}>上一篇</Button>\n                <Button onClick={() => handleNavigate('next')}>下一篇</Button>\n\n                <span>{`${pager.index} / ${pager.length}`}</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Annotation\n","/**\n * 技术方案构想：\n * 每次编辑后，将html传给服务器即可。\n *\n * UI设计。\n * - 高亮\n * - 标签\n */\nimport React from 'react'\nimport classNames from 'classnames'\nimport './Comment.scss'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { List, Modal } from 'antd'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport {\n    deleteAnnotation,\n    updateSavaStatus,\n} from '../Annotation/AnnotationSlice'\n// import { Button } from 'react-bootstrap'\n\nconst log = console.log.bind(console, '[comment]')\n// 自定义颜色。\n\n// 侧边栏\nconst Comment = props => {\n    const { className, highlighter } = props\n    const prefix = 'zz-comment'\n    const cls = classNames({\n        [prefix]: true,\n        [className]: className,\n    })\n\n    const dispatch = useDispatch()\n\n    const annotationList = useSelector(state => state.annotation.annotationList)\n    const categoryList = useSelector(state => state.header.categoryList)\n\n    const handleDelete = annotationId => {\n        Modal.confirm({\n            title: '删除',\n            icon: <ExclamationCircleOutlined />,\n            content: '确认删除吗？',\n            okText: '确认',\n            cancelText: '取消',\n            onCancel: () => {\n                console.log('取消')\n            },\n            onOk: () => {\n                // 删除状态\n                dispatch(deleteAnnotation(annotationId))\n                dispatch(updateSavaStatus(true))\n                // 删除dom结构\n                highlighter.remove(annotationId)\n            },\n        })\n    }\n\n    const addClass = id => {\n        highlighter.addClass('highlight-wrap-hover', id)\n    }\n\n    const removeClass = id => {\n        highlighter.removeClass('highlight-wrap-hover', id)\n    }\n\n    return (\n        <div className={cls}>\n            <header>我的标注列表</header>\n            <List\n                itemLayout='horizontal'\n                className={`${prefix}-list`}\n                dataSource={annotationList}\n                renderItem={item => {\n                    const config = categoryList.find(\n                        i => i.id === item.categoryId\n                    )\n\n                    return (\n                        <List.Item className={`${prefix}-list-item`}>\n                            {config && item && `${config.text}: ${item.text}`}\n                            <div className='action'>\n                                <a\n                                    onClick={() => handleDelete(item.id)}\n                                    onMouseEnter={() => addClass(item.id)}\n                                    onMouseLeave={() => removeClass(item.id)}\n                                    key='list-loadmore-edit'\n                                >\n                                    delete\n                                </a>\n                            </div>\n                        </List.Item>\n                    )\n                }}\n            />\n        </div>\n    )\n}\n\nexport default Comment\n","import React, { useEffect } from 'react'\nimport { Button, Form, Input, Select } from 'antd'\n\nconst { Option } = Select\nimport './SearchForm.scss'\n\nconst SearchForm = props => {\n    const [form] = Form.useForm()\n\n    const handleSelectChange = (type, value) => {\n        form.setFieldsValue({\n            [type]: value,\n        })\n    }\n    const onFinish = values => {\n        props.onChange && props.onChange(values)\n    }\n    return (\n        <div className='yryr-form-wrap'>\n            <Form\n                // {...formItemLayout}\n                // labelAlign={'right'}\n                className='search-form'\n                layout='inline'\n                form={form}\n                // name='dynamic_form_nest_item'\n                onFinish={onFinish}\n                autoComplete='off'\n            >\n                <Form.Item name='title' label='文章标题'>\n                    <Input />\n                </Form.Item>\n\n                <Form.Item name='source' label='语料来源'>\n                    <Select onChange={handleSelectChange} allowClear>\n                        <Option value='BLCU'>hsk动态作文语料库</Option>\n                        <Option value='SYSU'>\n                            中山大学汉字偏误中介语语料库\n                        </Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item name='score' label='汉语水平'>\n                    <Select onChange={handleSelectChange} allowClear>\n                        <Option value='mid'>中级</Option>\n                        <Option value='high'>高级</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item name='nationality' label='国籍'>\n                    <Select onChange={handleSelectChange} allowClear>\n                        <Option value='korea'>韩国</Option>\n                        <Option value='britain'>英国</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item>\n                    <Button type='primary' htmlType='submit'>\n                        搜索\n                    </Button>\n                </Form.Item>\n            </Form>\n        </div>\n    )\n}\n\nexport default SearchForm\n","import React, { useEffect, useState } from 'react'\nimport { Table, Space, message, Button, Popconfirm } from 'antd'\nimport {\n    deleteArticleToLeanCloud,\n    getArticleFromLeanCloud,\n    updateArticleToLeanCloud,\n} from '../../../service/article'\nimport { useHistory } from 'react-router'\nimport SearchForm from './SearchForm'\n\nconst mapKeyToText = {\n    BLCU: 'hsk动态作文语料库',\n    SYSU: '中山大学汉字偏误中介语语料库',\n    mid: '中级',\n    high: '高级',\n    korea: '韩国',\n    britain: '英国',\n}\n\nconst ArticleTable = props => {\n    const { loading, dataSource, onUpdate } = props\n    const [searchList, setSearchList] = useState(dataSource || [])\n    const history = useHistory()\n    const columns = [\n        {\n            title: 'No.',\n            dataIndex: 'No',\n            key: 'No',\n        },\n        {\n            title: '标题',\n            dataIndex: 'title',\n            key: 'title',\n        },\n        {\n            title: '语料来源',\n            dataIndex: 'source',\n            key: 'source',\n            render: key => mapKeyToText[key] || key,\n        },\n        {\n            title: '国籍',\n            dataIndex: 'nationality',\n            key: 'nationality',\n            render: key => mapKeyToText[key] || key,\n        },\n        {\n            title: '汉语水平',\n            dataIndex: 'score',\n            key: 'score',\n            render: key => mapKeyToText[key] || key,\n        },\n        {\n            title: '标注数量',\n            dataIndex: 'annotationCount',\n            key: 'annotationCount',\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: (text, record) => (\n                <Space size='middle'>\n                    <a\n                        onClick={() => handleEdit(record.objectId)}\n                        type='primary'\n                    >\n                        标注\n                    </a>\n                    <a onClick={() => handleUpdate(record.objectId)}>编辑</a>\n                    <Popconfirm\n                        title='删除后无法恢复，请谨慎操作'\n                        onConfirm={() => handleDelete(record.objectId)}\n                    >\n                        <a type='primary' danger>\n                            删除\n                        </a>\n                    </Popconfirm>\n                </Space>\n            ),\n        },\n    ]\n\n    useEffect(() => {\n        setSearchList(dataSource)\n    }, [dataSource])\n    // const getArticle = () => {\n    //     let count = 0\n    //     getArticleFromLeanCloud().then(\n    //         res => {\n    //             const data = res.map((item, index) => {\n    //                 return {\n    //                     objectId: item.id,\n    //                     No: index + 1,\n    //                     ...item.toJSON(),\n    //                 }\n    //             })\n    //             data.forEach(item => {\n    //                 count += item.article.length\n    //             })\n    //             onChange && onChange(count)\n    //             console.log('dataList', data)\n    //             setDataList(data)\n    //             setSearchList(data)\n    //         },\n    //         () => {\n    //             message.error('获取文章失败')\n    //         }\n    //     )\n    // }\n    // useEffect(() => {\n    //     getArticle()\n    // }, [update])\n\n    const handleEdit = id => {\n        history.push({\n            pathname: `/edit/${id}`,\n        })\n    }\n    const handleDelete = id => {\n        console.log('删除功能', id)\n        deleteArticleToLeanCloud(id)\n            .then(() => {\n                message.success('删除成功')\n                onUpdate && onUpdate()\n            })\n            .catch(() => {\n                message.success('删除失败')\n            })\n    }\n\n    const processText = str => {\n        const el = document.createElement('div')\n        el.innerHTML = str\n        return el.textContent\n            .replace(/\\n/g, '')\n            .replace(/&/g, '')\n            .replace(/@/g, '')\n            .replace(/([a-zA-Z])\\w+/g, '')\n            .replace(/<.>/g, '')\n            .replace(/<>/g, '')\n            .replace(/(\\【(.*?)\\】)/g, match => {\n                return match[1]\n            })\n    }\n\n    const handleUpdate = id => {\n        props.onUpdate && props.onUpdate(id)\n    }\n\n    const handleUpp = async () => {\n        const dataList = dataSource\n        for (let i = 1; i < dataList.length; i++) {\n            const article = dataList[i]\n            console.log('article', article)\n            const dd = {\n                article: processText(article.article),\n            }\n            console.log('dd', dd)\n\n            await updateArticleToLeanCloud(article.objectId, dd)\n                .then(() => {\n                    console.log('处理i', i, '成功')\n                })\n                .catch(() => {\n                    console.log('处理i', i, '失败')\n                })\n        }\n    }\n\n    const handleSearch = formValues => {\n        console.log('调用', formValues)\n        const dataList = dataSource\n        const newData = dataList.filter(item => {\n            let flag = true\n            Object.keys(formValues).forEach(key => {\n                if (formValues[key] && formValues[key] !== item[key]) {\n                    flag = false\n                }\n            })\n            return flag\n        })\n        console.log('调用', newData)\n        setSearchList(newData)\n    }\n\n    return (\n        <div>\n            {/* <Button onClick={handleUpp}> 批量更新</Button> */}\n            <SearchForm onChange={handleSearch} />\n            <Table\n                loading={loading}\n                bordered={true}\n                columns={columns}\n                dataSource={searchList}\n                pagination={{\n                    showTotal: total => `当前共有${total}条数据`,\n                }}\n            />\n        </div>\n    )\n}\n\nexport default ArticleTable\n","import React, { useEffect } from 'react'\nimport { Form, Modal, Input, Select, Tooltip, message } from 'antd'\nimport {\n    createArticle,\n    getArticleFromLeanCloud,\n    updateArticleToLeanCloud,\n} from '../../../service/article'\n\nconst { Option } = Select\nconst { TextArea } = Input\n\nconst formItemLayout = {\n    labelCol: { span: 4 },\n    wrapperCol: { span: 20 },\n}\n\nconst AddModal = props => {\n    const { visible, articleId, onOk, onFail } = props\n    const [form] = Form.useForm()\n\n    useEffect(() => {\n        if (visible && articleId) {\n            getArticleFromLeanCloud(articleId).then(article => {\n                const articleObj = article.toJSON()\n                console.log('articleObj', articleObj)\n                form.setFieldsValue({\n                    ...articleObj,\n                })\n            })\n        }\n    }, [visible, articleId])\n\n    const handleSelectChange = (type, value) => {\n        form.setFieldsValue({\n            [type]: value,\n        })\n    }\n\n    const handleConfirm = () => {\n        form.submit()\n        props.onOk && props.onOk()\n    }\n\n    const handleClose = () => {\n        props.onCancel && props.onCancel()\n    }\n\n    const onFinish = values => {\n        if (articleId) {\n            updateArticleToLeanCloud(articleId, values).then(\n                res => {\n                    // handleClose()\n                    message.success('修改成功')\n                    onOk && onOk()\n                },\n                err => {\n                    message.error('修改失败')\n                    onFail && onFail()\n                }\n            )\n        } else {\n            createArticle(values).then(\n                res => {\n                    handleClose()\n                    message.success('添加成功')\n                    onOk && onOk()\n                },\n                err => {\n                    message.error('添加失败')\n                    onFail && onFail()\n                }\n            )\n        }\n        console.log('values', values)\n    }\n    return (\n        <Modal\n            title={articleId ? '编辑文章' : '添加文章'}\n            visible={visible}\n            onOk={handleConfirm}\n            onCancel={handleClose}\n            okText={articleId ? '确定' : '添加'}\n            cancelText='取消'\n        >\n            <Form\n                {...formItemLayout}\n                labelAlign={'right'}\n                form={form}\n                name='dynamic_form_nest_item'\n                onFinish={onFinish}\n                autoComplete='off'\n            >\n                <Form.Item\n                    name='title'\n                    label='文章标题'\n                    rules={[{ required: true }]}\n                >\n                    <Input />\n                </Form.Item>\n\n                <Form.Item\n                    name='source'\n                    label='语料来源'\n                    rules={[{ required: true }]}\n                >\n                    <Select onChange={handleSelectChange} allowClear>\n                        <Option value='BLCU'>hsk动态作文语料库</Option>\n                        <Option value='SYSU'>\n                            中山大学汉字偏误中介语语料库\n                        </Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    name='score'\n                    label='汉语水平'\n                    rules={[{ required: true }]}\n                >\n                    <Select onChange={handleSelectChange} allowClear>\n                        <Option value='mid'>中级</Option>\n                        <Option value='high'>高级</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    name='nationality'\n                    label='国籍'\n                    rules={[{ required: true }]}\n                >\n                    <Select onChange={handleSelectChange} allowClear>\n                        <Option value='korea'>韩国</Option>\n                        <Option value='britain'>英国</Option>\n                    </Select>\n                </Form.Item>\n                <Form.Item\n                    name='article'\n                    label={\n                        <Tooltip title='可以填入已标注的内容'>\n                            <span>文章内容</span>\n                        </Tooltip>\n                    }\n                    rules={[{ required: true }]}\n                >\n                    <TextArea rows={5} />\n                </Form.Item>\n                {/* <Form.Item>\n                    <Button type='primary' htmlType='submit'>\n                        Submit\n                    </Button>\n                </Form.Item> */}\n            </Form>\n        </Modal>\n    )\n}\n\nexport default AddModal\n","import React from 'react'\nimport { Modal } from 'antd'\nimport { useSelector } from 'react-redux'\n\nconst StatisticsModal = props => {\n    const { visible, count, onOk, onCancel } = props\n    //\n    const config = useSelector(state => state.annotation.config)\n\n    const handleEdit = () => {\n        onCancel && onCancel()\n    }\n\n    const handleCancel = () => {\n        console.log('？？？调用一下啊')\n        onCancel && onCancel()\n    }\n    return (\n        <Modal\n            title='统计分析'\n            okText='确定'\n            cancelText='取消'\n            visible={visible}\n            onOk={handleEdit}\n            width={800}\n            onCancel={handleCancel}\n        >\n            <div>字数统计：{count}字</div>\n        </Modal>\n    )\n}\n\nexport default StatisticsModal\n","import Header from '../edit/Header/Header'\nimport React, { useCallback, useEffect, useState } from 'react'\nimport ArticleTable from './ArticleTable/ArticleTable'\nimport { CSVLink } from 'react-csv'\nimport { Button, Divider, message } from 'antd'\nimport AddModal from '../edit/SideBar/AddModal'\nimport './Admin.scss'\nimport StatisticsModal from './StatisticsModal'\nimport { getArticleFromLeanCloud } from '../../service/article'\nimport { getConfigFromLeanCloud } from '../../service/service'\nimport { createArticle, updateArticleToLeanCloud } from '../../service/article'\n\n// 处理中山大学\nconst processText2 = str => {\n    const el = document.createElement('div')\n    el.innerHTML = str\n    return (\n        el.textContent\n            .replace(/\\n/g, '')\n            .replace(/&/g, '')\n            .replace(/@/g, '')\n            // .replace(/([a-zA-Z])\\w+/g, '')\n            .replace(/<.>/g, '')\n            .replace(/CZ|BZ|SBZ|BGFZ/g, '')\n            .replace(/<>/g, '')\n            .replace(/(【(.*?)】)/g, match => {\n                return match[1]\n            })\n        // .replaceAll('。', '。</p><p>')\n    )\n}\n\nconst Admin = () => {\n    const [isModalVisible, setIsModalVisible] = useState(false)\n    const [isStaticVisible, setIsStaticVisible] = useState(false)\n    const [loading, setLoading] = useState(false)\n    const [articleList, setArticleList] = useState([])\n    const [categoryList, setCategoryList] = useState([])\n    const [CSVData, setCSVData] = useState([])\n    const [CSVDataText, setCSVDataText] = useState([])\n    const [articleId, setArticleId] = useState('')\n    const [count, setCount] = useState(0)\n\n    // const [text, setText] = useState('')\n    const getArticle = useCallback(() => {\n        let count = 0\n        setLoading(true)\n        getArticleFromLeanCloud().then(\n            res => {\n                const data = res.map((item, index) => {\n                    return {\n                        objectId: item.id,\n                        No: index + 1,\n                        ...item.toJSON(),\n                    }\n                })\n                data.forEach(item => {\n                    count += item.article.length\n                })\n                setCount(count)\n                setArticleList(data)\n                setLoading(false)\n            },\n            () => {\n                setLoading(false)\n                message.error('获取文章失败')\n            }\n        )\n    }, [])\n\n    const getCategory = useCallback(() => {\n        getConfigFromLeanCloud('610291721de21d3e072c5432').then(res => {\n            const list = res.get('categoryList')\n            // 更新到redux中\n            setCategoryList(list)\n        })\n    }, [])\n\n    useEffect(() => {\n        getArticle()\n        getCategory()\n    }, [getArticle, getCategory])\n\n    useEffect(() => {\n        const createCsvData = () => {\n            const csv = articleList.map(article => {\n                const anaphora = {}\n                let count = 0\n                if (article.annotation && article.annotation.length > 0) {\n                    // 呵呵\n                    article.annotation.forEach(anno => {\n                        const category = categoryList.find(\n                            item => item.id === anno.categoryId\n                        )\n                        if (anaphora[category.text]) {\n                            anaphora[category.text] += 1\n                        } else {\n                            anaphora[category.text] = 1\n                        }\n                    })\n                    count = article.annotation.length\n                }\n                const words = processText2(article.article)\n                return {\n                    No: article.No,\n                    title: article.title,\n                    nationality: article.nationality,\n                    score: article.score,\n                    source: article.source,\n                    count: count,\n                    words: words.length,\n                    ...anaphora,\n                }\n            })\n            return csv\n        }\n        const createCsvDataText = () => {\n            const csv = articleList.map(article => {\n                const anaphora = {}\n                let count = 0\n                if (article.annotation && article.annotation.length > 0) {\n                    // 呵呵\n                    article.annotation.forEach(anno => {\n                        const category = categoryList.find(\n                            item => item.id === anno.categoryId\n                        )\n                        if (anaphora[category.text]) {\n                            const len = anaphora[category.text].length + 1\n                            const text = `${len}.${anno.text}`\n                            anaphora[category.text].push(text)\n                        } else {\n                            anaphora[category.text] = [`1.${anno.text}`]\n                        }\n                    })\n                    count = article.annotation.length\n                }\n                Object.keys(anaphora).forEach(\n                    key => (anaphora[key] = anaphora[key].join('\\n'))\n                )\n                return {\n                    No: article.No,\n                    title: article.title,\n                    nationality: article.nationality,\n                    score: article.score,\n                    source: article.source,\n                    count: count,\n                    ...anaphora,\n                }\n            })\n            return csv\n        }\n        if (categoryList.length > 0 && articleList.length > 0) {\n            const csv = createCsvData()\n            const csvText = createCsvDataText()\n            setCSVData(csv)\n            setCSVDataText(csvText)\n        }\n    }, [categoryList, articleList])\n\n    const handleUpload = () => {\n        setIsModalVisible(true)\n        setArticleId('')\n    }\n\n    const handleCancel = () => {\n        setIsModalVisible(false)\n    }\n\n    const handleOK = () => {\n        setIsModalVisible(false)\n        getArticle()\n    }\n\n    // const handleChange = cc => {\n    //     setCount(cc)\n    // }\n\n    // 修改文章数据\n    const handleUpdate = id => {\n        //\n        setIsModalVisible(true)\n        setArticleId(id)\n    }\n\n    // const processText = str => {\n    //     const el = document.createElement('div')\n    //     el.innerHTML = str\n    //     return el.textContent\n    //         .replace(/\\n/g, '')\n    //         .replace(/&/g, '')\n    //         .replace(/@/g, '')\n    //         .replace(/([a-zA-Z])\\w+/g, '')\n    //         .replace(/<.>/g, '')\n    //         .replace(/<>/g, '')\n    //         .replace(/(\\【(.*?)\\】)/g, match => {\n    //             return match[1]\n    //         })\n    // }\n\n    // const handleUploadAll = async () => {\n    //     const data = JSON.parse(text)\n    //     const articles = data.articleLs\n    //     const result = articles.map(article => {\n    //         return {\n    //             title: article.title,\n    //             nationality: 'korea',\n    //             article: article.content,\n    //             source: 'SYSU',\n    //             score: 'high',\n    //         }\n    //     })\n    //     for (let i = 0; i < result.length; i++) {\n    //         const el = result[i]\n    //         await createArticle(el).then(\n    //             res => {\n    //                 message.success('添加成功')\n    //             },\n    //             err => {\n    //                 message.error('添加失败')\n    //             }\n    //         )\n    //         console.log('添加i', i, '成功')\n    //     }\n    // }\n\n    // const handleChangeAll = e => {\n    //     setText(e.target.value)\n    // }\n    const handleUpp = async () => {\n        const dataList = articleList\n        for (let i = 1; i < dataList.length; i++) {\n            const article = dataList[i]\n            console.log('article', article)\n            const dd = {\n                article: processText(article.article),\n            }\n            console.log('dd', dd)\n\n            await updateArticleToLeanCloud(article.objectId, dd)\n                .then(() => {\n                    console.log('处理i', i, '成功')\n                })\n                .catch(() => {\n                    console.log('处理i', i, '失败')\n                })\n        }\n    }\n\n    // const handleClickData = async () => {\n    //     console.log('data', articleList, categoryList)\n    //     for (let i = 0; i < articleList.length; i++) {\n    //         const annotation = articleList[i].annotation\n    //         if (annotation) {\n    //             const newAnnotation = annotation.map(item => {\n    //                 if (item.text.includes('这') || item.text.includes('那')) {\n    //                     return {\n    //                         ...item,\n    //                         categoryId: 'IK65Puo0Tb1_7_LCBritI',\n    //                     }\n    //                 } else {\n    //                     return item\n    //                 }\n    //             })\n    //             console.log('newAnnotation', newAnnotation, annotation)\n    //             await updateArticleToLeanCloud(articleList[i].objectId, {\n    //                 annotation: newAnnotation,\n    //             })\n    //                 .then(() => {\n    //                     console.log('处理i', i, '成功')\n    //                 })\n    //                 .catch(() => {\n    //                     console.log('处理i', i, '失败')\n    //                 })\n    //         } else {\n    //             console.log('articleList[i]', articleList[i])\n    //         }\n    //     }\n    // }\n\n    return (\n        <div className='yryr-admin'>\n            <Header type='admin' />\n            {/* <div style={{ margin: 50 }} className='test'>\n                <TextArea value={text} onChange={handleChangeAll} />\n\n                <Button type='secondary' onClick={handleUploadAll}>\n                    批量上传\n                </Button>\n            </div> */}\n            <div className='main'>\n                <div className='action'>\n                    <Button type='secondary' onClick={handleUpload}>\n                        上传文章\n                    </Button>\n                    {/* <Button type='secondary' onClick={handleClickData}>\n                        处理回指数据\n                    </Button> */}\n                    <Divider type='vertical' />\n                    <Button\n                        type='secondary'\n                        onClick={() => setIsStaticVisible(true)}\n                    >\n                        整体统计\n                    </Button>\n                    <Divider type='vertical' />\n\n                    <Button type='primary'>\n                        <CSVLink filename={'anaphoric-data.csv'} data={CSVData}>\n                            导出数据\n                        </CSVLink>\n                    </Button>\n                    <Divider type='vertical' />\n\n                    <Button type='primary'>\n                        <CSVLink\n                            filename={'anaphoric-data-text.csv'}\n                            data={CSVDataText}\n                        >\n                            导出文本\n                        </CSVLink>\n                    </Button>\n                </div>\n                <ArticleTable\n                    dataSource={articleList}\n                    loading={loading}\n                    onUpdate={handleUpdate}\n                />\n            </div>\n\n            <AddModal\n                key={Date.now()}\n                articleId={articleId}\n                visible={isModalVisible}\n                onOk={handleOK}\n                onCancel={handleCancel}\n            />\n            <StatisticsModal\n                visible={isStaticVisible}\n                count={count}\n                onCancel={() => setIsStaticVisible(false)}\n            />\n        </div>\n    )\n}\n\nexport default Admin\n","import LC from './index'\n\nexport const getQuestionList = questionIds => {\n    const query = new LC.Query('Question')\n    // query.descending('createdAt')\n    query.limit(1000)\n    if (questionIds) {\n        query.containedIn('id', questionIds)\n    }\n    return query.find()\n}\n\nexport const existQuestion = objectId => {\n    const query = new LC.Query('Question')\n    if (typeof objectId === 'object') {\n        query.containedIn('id', objectId)\n    } else {\n        query.equalTo('id', objectId)\n    }\n    query.limit(1000)\n    return query.find()\n}\n\n// 新增题目到leanCloud\nexport const addQuestion = data => {\n    const list = []\n    data.forEach(item => {\n        const Question = LC.Object.extend('Question')\n        const question = new Question()\n        Object.keys(item).forEach(key => {\n            question.set(key, item[key])\n        })\n        list.push(question)\n    })\n    return LC.Object.saveAll(list)\n}\n\n// delete\nexport const deleteQuestion = objectId => {\n    const question = LC.Object.createWithoutData('Question', objectId)\n    return question.destroy()\n}\n\n// 这是粉笔错题分类表\n// 种类表添加种类\nexport const addCategoryQuestion = data => {\n    let question = LC.Object.createWithoutData(\n        'Category',\n        '62031ff0a10bf856ff93cf99'\n    )\n    Object.keys(data).forEach(key => {\n        question.set(key, data[key])\n    })\n    return question.save()\n}\n\nexport const getCategoryQuestion = objectId => {\n    const query = new LC.Query('Category')\n    return query.get(objectId || '62031ff0a10bf856ff93cf99')\n}\n\n// 自定义错题分类表\nexport const addCustomWrongQuestionCategory = data => {\n    let question = LC.Object.createWithoutData(\n        'Category',\n        '6253f0461122b910ec5dfd1e'\n    )\n    Object.keys(data).forEach(key => {\n        question.set(key, data[key])\n    })\n    return question.save()\n}\n\nexport const getCustomWrongQuestionCategory = () => {\n    const query = new LC.Query('Category')\n    return query.get('6253f0461122b910ec5dfd1e')\n}\n","import React, { useEffect, useState } from 'react'\nimport { Upload, Tree, Button } from 'antd'\nimport { getCategoryQuestion } from '../../service/question'\nimport '../xingce/XingCe.scss'\nimport { useHistory } from 'react-router'\n\nconst XingCe = () => {\n    const [categoryList, setCategoryList] = useState([])\n    const history = useHistory()\n    useEffect(() => {\n        getCategoryQuestion('625d56e11122b910ec683964').then(res => {\n            const data = res.toJSON().content\n            processCategoryList(data)\n            console.log('res', data)\n            setCategoryList(data)\n        })\n    }, [])\n\n    // 开始练习\n    const handleClickPractice = (questionIds, id) => {\n        history.push(`/book/${questionIds.toString()}`)\n    }\n\n    const processCategoryList = data => {\n        // 处理数据\n        data.forEach(item => {\n            item.title = (\n                <div className='category-item'>\n                    <div className='name'>{item.name}</div>\n                    <div className='num'>{item.questionIds.length}题</div>\n                    <div className='practice'>\n                        <Button\n                            onClick={() =>\n                                handleClickPractice(item.questionIds, item.id)\n                            }\n                            shape='round'\n                        >\n                            开始练习\n                        </Button>\n                    </div>\n                </div>\n            )\n            item.key = item.id\n            if (item.children) {\n                processCategoryList(item.children)\n            }\n        })\n    }\n\n    return (\n        <div className='xing-ce'>\n            hello, world\n            <div className='category'>\n                <Tree className='xing-ce-tree' treeData={categoryList} />\n            </div>\n        </div>\n    )\n}\n\nexport default XingCe\n","// 答案组件\nimport React from 'react'\nimport { Button, Divider, Tag } from 'antd'\nimport './Answer.scss'\n\nconst Answer = props => {\n    const { correctAnswer, solution, keypoints, questionMeta, source } =\n        props.data\n\n    const mapIndexToLetter = ['A', 'B', 'C', 'D']\n\n    const handleClick = () => {\n        props.onClose()\n    }\n\n    return (\n        <div className='answer'>\n            <div className='correct'>\n                <p>\n                    正确答案是：\n                    <span>{mapIndexToLetter[correctAnswer['choice']]}</span>\n                </p>\n\n                <Button onClick={handleClick}>收起</Button>\n            </div>\n            <Divider />\n            <ul>\n                <li>\n                    <span>解析：</span>\n                    <div\n                        className='content'\n                        dangerouslySetInnerHTML={{ __html: solution }}\n                    ></div>\n                </li>\n                <li>\n                    <span>考点：</span>\n                    <div className='content'>\n                        {keypoints.map((item, index) => {\n                            return (\n                                <Tag key={index} color='#108ee9'>\n                                    {item.name}\n                                </Tag>\n                            )\n                        })}\n                    </div>\n                </li>\n                <li>\n                    <span>来源：</span>\n                    <div className='content'>{source}</div>\n                </li>\n                <li>\n                    <span>统计：</span>\n                    <div className='content'>\n                        <Tag color='green'>\n                            正确率：{questionMeta.correctRatio.toFixed(2)}%\n                        </Tag>\n                        <Tag color='magenta'>\n                            易错项：\n                            {\n                                mapIndexToLetter[\n                                    questionMeta.mostWrongAnswer.choice\n                                ]\n                            }\n                        </Tag>\n                    </div>\n                </li>\n            </ul>\n        </div>\n    )\n}\n\nexport default Answer\n","import LC from './index'\n\nexport const getExamList = questionIds => {\n    const query = new LC.Query('FbQuestion')\n    // query.descending('createdAt')\n    query.limit(1000)\n    if (questionIds) {\n        query.containedIn('id', questionIds)\n    }\n    return query.find()\n}\n\nexport const getBookList = questionIds => {\n    const query = new LC.Query('QuestionBook')\n    // query.descending('createdAt')\n    query.limit(1000)\n    if (questionIds) {\n        query.containedIn('id', questionIds)\n    }\n    return query.find()\n}\n\nexport const addExam = data => {\n    const list = []\n    data.forEach(item => {\n        const Question = LC.Object.extend('FbQuestion')\n        const question = new Question()\n        Object.keys(item).forEach(key => {\n            question.set(key, item[key])\n        })\n        list.push(question)\n    })\n    return LC.Object.saveAll(list)\n}\n\n// delete\nexport const deleteExam = objectId => {\n    const question = LC.Object.createWithoutData('FbQuestion', objectId)\n    return question.destroy()\n}\n","// 收藏组件\nimport React from 'react'\nimport './CollectIcon.scss'\n\nconst CollectIcon = props => {\n    const { checked } = props\n    const url = checked\n        ? 'https://nodestatic.fbstatic.cn/weblts_spa_online/tiku/static/collected-btn.d4120fd14a7eda0e8e50.png'\n        : 'https://nodestatic.fbstatic.cn/weblts_spa_online/tiku/static/collect-btn.e0cca1095b2514b3e6c5.png'\n    const handleClick = () => {\n        props.onClick && props.onClick()\n    }\n    return (\n        <span onClick={handleClick} className='collect-icon'>\n            <img src={url} alt='' />\n        </span>\n    )\n}\n\nexport default CollectIcon\n","import LC from './index'\n\nexport const getCollectList = questionIds => {\n    const query = new LC.Query('Collection')\n    // query.descending('createdAt')\n    query.limit(1000)\n    if (questionIds) {\n        query.containedIn('id', questionIds)\n    }\n    return query.find()\n}\n\nexport const addCollect = data => {\n    const list = []\n    data.forEach(item => {\n        const Question = LC.Object.extend('Collection')\n        const question = new Question()\n        Object.keys(item).forEach(key => {\n            question.set(key, item[key])\n        })\n        list.push(question)\n    })\n    return LC.Object.saveAll(list)\n}\n\n// delete\nexport const deleteCollect = objectId => {\n    const question = LC.Object.createWithoutData('Collection', objectId)\n    return question.destroy()\n}\n","import React, { useEffect, useState } from 'react'\nimport { message } from 'antd'\nimport classNames from 'classnames'\nimport { getCategoryQuestion, getQuestionList } from '../../service/question'\nimport '../xingce/XingCe.scss'\nimport { useParams } from 'react-router'\nimport Answer from '../xingce/components/Answer'\nimport { getBookList, getExamList } from '../../service/exam'\nimport CollectIcon from '../xingce/components/CollectIcon'\nimport {\n    addCollect,\n    deleteCollect,\n    getCollectList,\n} from '../../service/collect'\n\nconst XingCeList = () => {\n    const params = useParams()\n    const [dataSource, setDataSource] = useState([])\n    useEffect(() => {\n        // getCollect()\n    }, [])\n\n    useEffect(() => {\n        const id = params.objectId\n        if (id.includes(',')) {\n            console.log('123', id.split(','))\n            const questionIds = id\n                .split(',')\n                .filter(item => item != '')\n                .map(item => parseInt(item))\n\n            getBookList(questionIds).then(res => {\n                if (res.length === questionIds.length) {\n                    const data = res\n                        .map(item => item.toJSON())\n                        .sort(\n                            (a, b) =>\n                                b.questionMeta.totalCount -\n                                a.questionMeta.totalCount\n                        )\n                        .slice(0, 100)\n                    console.log('data', data)\n                    setDataSource(data)\n                }\n            })\n        }\n    }, [params])\n\n    // const getCollect = () => {\n    //     getCollectList().then(res => {\n    //         const data = res.map(item => item.toJSON())\n    //         const newMap = {}\n    //         data.forEach(item => {\n    //             newMap[item.id] = item.objectId\n    //         })\n    //         setCollectMap(newMap)\n    //     })\n    // }\n\n    const handleSelectOption = (item, index) => {\n        const choice = item.correctAnswer.choice\n        const questionId = item.id\n        let status = ''\n        if (choice == index) {\n            status = 'correct'\n        } else {\n            status = 'wrong'\n        }\n        const newDataSource = dataSource.map(item => {\n            if (item.id === questionId) {\n                return {\n                    ...item,\n                    answerVisible: true,\n                    status,\n                    selectIndex: index,\n                }\n            } else {\n                return item\n            }\n        })\n        setDataSource(newDataSource)\n    }\n\n    const handleClose = item => {\n        const questionId = item.id\n        const newDataSource = dataSource.map(item => {\n            if (item.id === questionId) {\n                return {\n                    ...item,\n                    answerVisible: false,\n                    status: '',\n                    selectIndex: '',\n                }\n            } else {\n                return item\n            }\n        })\n        setDataSource(newDataSource)\n    }\n\n    return (\n        <div className='wrap'>\n            <div className='wrap-print'>\n                <div className='list'>\n                    {dataSource.map((item, index) => {\n                        let layout = 'four'\n                        // 任一选项文字长度超过10，则选择两栏布局\n                        // 任一选项文字长度超过20，则选择一栏布局\n                        // 否则使用四栏布局\n                        const itemLength = []\n                        item.accessories[0].options.forEach(item => {\n                            itemLength.push(item.length)\n                        })\n                        const len = Math.max(...itemLength)\n                        if (len >= 20) {\n                            layout = 'one'\n                        } else if (len > 10) {\n                            layout = 'two'\n                        }\n                        const cls = classNames({\n                            question: true,\n                            [item.status]: item.status,\n                        })\n                        return (\n                            <div key={item.id} className='item-wrap'>\n                                {index % 20 === 0 && (\n                                    <h2>练习题{parseInt(index / 20) + 1}</h2>\n                                )}\n                                <div className='item'>\n                                    <div className={cls}>\n                                        <span>{index + 1}.</span>\n                                        <div className='content'>\n                                            <div className='title'>\n                                                <span\n                                                    dangerouslySetInnerHTML={{\n                                                        __html: item.content,\n                                                    }}\n                                                ></span>\n                                                {/* <CollectIcon\n                                                checked={collectMap[item.id]}\n                                                onClick={() =>\n                                                    handleCollect(\n                                                        item,\n                                                        collectMap[item.id]\n                                                    )\n                                                }\n                                            /> */}\n                                            </div>\n\n                                            <div\n                                                className={`options ${layout}`}\n                                            >\n                                                {item.accessories[0] &&\n                                                    item.accessories[0].options.map(\n                                                        (option, pos) => {\n                                                            const mapIndexToLetter =\n                                                                [\n                                                                    'A',\n                                                                    'B',\n                                                                    'C',\n                                                                    'D',\n                                                                ]\n                                                            let status =\n                                                                pos ==\n                                                                    item.selectIndex &&\n                                                                item.status ==\n                                                                    'correct'\n                                                                    ? 'correct'\n                                                                    : 'wrong'\n                                                            const optionCls =\n                                                                classNames({\n                                                                    option: true,\n                                                                    [status]:\n                                                                        pos ===\n                                                                        item.selectIndex,\n                                                                })\n                                                            return (\n                                                                <div\n                                                                    key={pos}\n                                                                    onClick={() =>\n                                                                        handleSelectOption(\n                                                                            item,\n                                                                            pos\n                                                                        )\n                                                                    }\n                                                                    className={\n                                                                        optionCls\n                                                                    }\n                                                                >\n                                                                    <span className='num'>\n                                                                        {\n                                                                            mapIndexToLetter[\n                                                                                pos\n                                                                            ]\n                                                                        }\n                                                                        .\n                                                                    </span>\n                                                                    <span\n                                                                        dangerouslySetInnerHTML={{\n                                                                            __html: option,\n                                                                        }}\n                                                                    ></span>\n                                                                </div>\n                                                            )\n                                                        }\n                                                    )}\n                                            </div>\n                                        </div>\n                                    </div>\n                                    {item.answerVisible && (\n                                        <Answer\n                                            onClose={() => handleClose(item)}\n                                            data={item}\n                                        />\n                                    )}\n                                </div>\n                            </div>\n                        )\n                    })}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default XingCeList\n","// adjacency matrix\n/**\n *\n[4L, 49,1,2]  -> [1L, 49,3,4]  [黑色, 14,1,3,4]  [128G, 77,1,3]  [红色, 14,2]  [256G, 77,2,4]  \n[1L, 49,3,4]  -> [4L, 49,1,2]  [黑色, 14,1,3,4]  [128G, 77,1,3]  [256G, 77,2,4]  \n[黑色, 14,1,3,4]  -> [红色, 14,2]  [4L, 49,1,2]  [128G, 77,1,3]  [1L, 49,3,4]  [256G, 77,2,4] \n\n{[1L, 49,3,4] [128G, 77,1,3] [红色, 14,2] [256G, 77,2,4]}\n[红色, 14,2]  -> [黑色, 14,1,3,4]  [4L, 49,1,2]  [256G, 77,2,4]  \n[128G, 77,1,3]  -> [256G, 77,2,4]  [4L, 49,1,2]  [黑色, 14,1,3,4]  [1L, 49,3,4]  \n[256G, 77,2,4]  -> [128G, 77,1,3]  [4L, 49,1,2]  [红色, 14,2]  [1L, 49,3,4]  [黑色, 14,1,3,4]  \n */\nclass Vertex {\n    constructor(id) {\n        this.id = id\n        this.sku = new Set()\n    }\n}\nconst log = console.log.bind(console, '[adj-list]')\n// Adjacency table\nclass AdjacencyListGraph {\n    constructor(isDirected = false) {\n        this.vertices = [] //顶点 vertex的复数\n        this.adjList = new Map() // 邻接表 Adjacency\n        this.isDirected = isDirected // 是否为有向图\n    }\n\n    loadDataSource(commoditySpecs, limitData) {\n        // 1. 通过规格添加顶点\n        const vertex = commoditySpecs.reduce((acc, cur) => {\n            return acc.concat(cur.list)\n        }, [])\n        vertex.forEach(id => {\n            const vertex = new Vertex(id)\n            this.addVertex(vertex)\n        })\n        // 2. 约束条件添加边\n        // 同级可选\n        for (let i = 0; i < commoditySpecs.length; i++) {\n            const item = commoditySpecs[i].list\n            for (let j = 0; j < item.length; j++) {\n                for (let k = 0; k < item.length; k++) {\n                    if (item[j] !== item[k]) {\n                        this.addEdge(\n                            item[j],\n                            item[k],\n                            parseInt(Math.random() * 100)\n                        )\n                    }\n                }\n            }\n        }\n\n        // 限制条件\n        for (let i = 0; i < limitData.length; i++) {\n            const item = limitData[i].list\n            const skuId = limitData[i].skuId\n            for (let j = 0; j < item.length; j++) {\n                for (let k = 0; k < item.length; k++) {\n                    if (item[j] !== item[k]) {\n                        this.addEdge(item[j], item[k], skuId)\n                    }\n                }\n            }\n        }\n    }\n\n    getVertexById(vertexId) {\n        const vertex = this.vertices.find(vertex => vertex.id === vertexId)\n        return vertex\n    }\n\n    // 判断顶点是否存在\n    hasVertex(vertex) {\n        // const result = this.vertices.some(vertex => vertex.id === vertexId)\n        return this.vertices.includes(vertex)\n    }\n\n    // 判断边是否存在\n    hasEdge(v, w) {\n        const result = this.adjList.get(v).includes(w)\n        return result\n    }\n\n    // 添加顶点\n    addVertex(vertex) {\n        if (this.hasVertex(vertex)) return\n        this.vertices.push(vertex)\n        this.adjList.set(vertex, [])\n    }\n\n    // 建立v => w的边联系\n    addEdge(vId, wId, skuId) {\n        const v1 = this.getVertexById(vId)\n        const v2 = this.getVertexById(wId)\n        if (!v1 || !v2) {\n            console.log('v, w节点不存在, 请先添加入节点中')\n            return\n        }\n        if (!this.hasEdge(v1, v2)) {\n            v1.sku.add(skuId)\n            v2.sku.add(skuId)\n            this.adjList.get(v1).push(v2)\n            this.adjList.get(v2).push(v1)\n        }\n    }\n\n    getVertices() {\n        return this.vertices\n    }\n\n    getExistVertices() {\n        return this.existVertices\n    }\n\n    getVertexIdList(vertexId) {\n        if (vertexId) {\n            const vertex = this.getVertexById(vertexId)\n            const vertexList = this.adjList.get(vertex)\n            return vertexList.map(item => item.id)\n        }\n        return this.vertices.map(item => item.id)\n    }\n\n    getAdjList() {\n        return this.adjList\n    }\n\n    vertexToString(vertex) {\n        return `[${vertex.id}, ${[...vertex.sku]}] `\n    }\n\n    toString() {\n        let s = ''\n        for (let i = 0; i < this.vertices.length; i++) {\n            const vertex = this.vertices[i]\n            s += `${this.vertexToString(vertex)} -> `\n            const neighbors = this.adjList.get(this.vertices[i])\n            for (let j = 0; j < neighbors.length; j++) {\n                s += `${this.vertexToString(neighbors[j])} `\n            }\n            s += '\\n'\n        }\n        return s\n    }\n\n    // 判断v1和v2是否连通\n    find(v1, v2) {\n        return this.adjList.get(v1).includes(v2)\n    }\n\n    getSkuIntersection(setList) {\n        const map = new Map()\n        for (let i = 0; i < setList.length; i++) {\n            const sku = [...setList[i]]\n            sku.forEach(item => {\n                if (map.has(item)) {\n                    map.set(item, 2)\n                } else {\n                    map.set(item, 1)\n                }\n            })\n        }\n        const result = [...map]\n            .filter(([key, value]) => value > 1)\n            .map(([key, value]) => key)\n        return result\n    }\n\n    // 获取交集\n    getIntersection(vertexIdList) {\n        window.adj = [0, 0]\n        if (vertexIdList.length <= 0) return this.getVertexIdList()\n        if (vertexIdList.length === 1)\n            return this.getVertexIdList(vertexIdList[0])\n        const map = new Map()\n        const arr = []\n        // 1. 取各顶点的规格\n        for (let i = 0; i < vertexIdList.length; i++) {\n            const id = vertexIdList[i]\n            const vertex = this.getVertexById(id)\n            arr.push(vertex.sku)\n            // 2. 取顶点下各个邻接点的交集, map为2说明出现了两次，则存在交集\n            const adjList = this.adjList.get(vertex)\n            log('adj', adjList)\n            window.adj[i] = adjList\n            for (let j = 0; j < adjList.length; j++) {\n                const item = adjList[j]\n                if (!map.has(item)) {\n                    map.set(item, 1)\n                } else {\n                    map.set(item, 2)\n                }\n            }\n        }\n        log(\n            '[...map]',\n            [...map],\n            [...map]\n                .filter(([key, value]) => value > 1)\n                .map(([key, value]) => key)\n        )\n        // 1.1 取出各顶点的规格交集\n        const set = this.getSkuIntersection(arr)\n        // 通过1和2 得出正确的交集\n        const result = [...map]\n            .filter(([key, value]) => value > 1)\n            .filter(([key, value]) => {\n                const sku = key.sku\n                const result = set.every(item => sku.has(item))\n                return result\n            })\n            .map(([key, value]) => key.id)\n        return result\n    }\n}\n\nexport default AdjacencyListGraph\n","import React, { useEffect, useMemo, useState } from 'react'\nimport './styles.css'\nimport Graph from './graph'\nimport { Radio } from 'antd'\nimport 'antd/dist/antd.css'\nimport AdjacencyMatrixGraph from './AdjacencyMatrixGraph'\nimport AdjacencyListGraph from './AdjacencyListGraph'\nconst limitData = [\n    { skuId: 1, list: ['意外险', '十年', '0岁到18岁'] },\n    { skuId: 2, list: ['意外险', '一百年', '0岁到18岁'] },\n    { skuId: 3, list: ['车险', '十年', '0岁到18岁'] },\n    { skuId: 4, list: ['车险', '十年', '19岁到60岁'] },\n    { skuId: 5, list: ['健康险', '一千年', '61岁到100岁'] },\n    { skuId: 6, list: ['健康险', '一千年', '0岁到18岁'] },\n    { skuId: 7, list: ['健康险', '十年', '19岁到60岁'] },\n]\nconst commoditySpecs = [\n    {\n        title: '保险种类',\n        key: 'type',\n        list: ['意外险', '车险', '健康险'],\n    },\n    {\n        title: '保障时间',\n        key: 'time',\n        list: ['十年', '一百年', '一千年'],\n    },\n    {\n        title: '投保人年龄',\n        key: 'age',\n        list: ['0岁到18岁', '19岁到60岁', '61岁到100岁'],\n    },\n]\n// const limitData = [\n//     { skuId: 1, list: ['4L', '黑色', '128G'] },\n//     { skuId: 2, list: ['4L', '红色', '256G'] },\n//     { skuId: 3, list: ['1L', '黑色', '128G'] },\n//     { skuId: 4, list: ['1L', '黑色', '256G'] },\n// ]\n// const commoditySpecs = [\n//     { title: '尺寸', key: 'size', list: ['4L', '1L'] },\n//     { title: '颜色', key: 'color', list: ['黑色', '红色'] },\n//     { title: '体重', key: 'weight', list: ['128G', '256G'] },\n// ]\nconst g = new AdjacencyListGraph()\ng.loadDataSource(commoditySpecs, limitData)\n\n// 呵呵。\nfunction Matrix() {\n    const [data, setData] = useState({})\n    const graph = useMemo(() => {\n        const g = new AdjacencyMatrixGraph()\n        g.loadDataSource(commoditySpecs, limitData)\n        console.log('g.tostring', g.toString())\n        // const g = new AdjacencyListGraph()\n        // g.loadDataSource(commoditySpecs, limitData)\n        return g\n    }, [])\n    const [limit, setLimit] = useState(graph.getExistVertices())\n\n    useEffect(() => {\n        // 获取选中的顶点\n        const vertexList = Object.keys(data)\n            .map(key => data[key])\n            .filter(key => key)\n        const l = graph.getIntersection(vertexList)\n        console.log('intersection', l)\n        if (l) {\n            setLimit(l)\n        }\n    }, [data])\n\n    const handleChange = (e, key) => {\n        const value = e.target.value\n        const newData = {\n            ...data,\n            [key]: value,\n        }\n        setData(newData)\n    }\n\n    const handleClick = key => {\n        // setData\n        setData({\n            ...data,\n            [key]: '',\n        })\n    }\n\n    return (\n        <div className='App'>\n            {commoditySpecs.map((spec, index_i) => {\n                const { title, key, list } = spec\n                return (\n                    <div key={index_i} className=''>\n                        <div>{title}</div>\n                        <Radio.Group\n                            value={data[key]}\n                            onChange={e => handleChange(e, key)}\n                            buttonStyle='solid'\n                        >\n                            {list.map(item => {\n                                // 没有item，或者为空\n                                let disable = false\n                                if (\n                                    data[key] !== item &&\n                                    !limit.includes(item)\n                                ) {\n                                    disable = true\n                                }\n                                return (\n                                    <Radio.Button\n                                        onClick={() => handleClick(key)}\n                                        disabled={disable}\n                                        key={item}\n                                        value={item}\n                                    >\n                                        {item}\n                                    </Radio.Button>\n                                )\n                            })}\n                        </Radio.Group>\n                    </div>\n                )\n            })}\n        </div>\n    )\n}\n\nexport default Matrix\n","import React from 'react'\nimport Matrix from './Matrix'\n\nconst Algorithm = () => {\n    return <div>{/* <Matrix /> */}</div>\n}\n\nexport default Algorithm\n","export const getNumberFromLen = numberLength => {\n    var num = Math.random()\n    while (num < Math.pow(10, numberLength - 1)) {\n        num *= 10\n    }\n    return parseInt(num)\n}\n\n// number是数字，len是保留的位数，并且放大到的位数\n// 例如\n// formatAnswerNumber(0.03813, 2) => 38\n// formatAnswerNumber(0.03813, 3) => 381\nexport const formatAnswerNumber = (number, len) => {\n    let n = number\n    if (n > 100) n /= 10\n    while (n < Math.pow(10, len - 1)) {\n        n *= 10\n    }\n    return Math.round(n)\n}\n","import { Alert, Button, Col, Input, Radio, Row, Form } from 'antd'\nimport React, { useState } from 'react'\nimport { formatAnswerNumber, getNumberFromLen } from '../../utils/math'\nimport './Calc.scss'\n\n// const getNumberFromLen = numberLength => {\n//     return parseInt(Math.random() * Math.pow(10, numberLength))\n// }\n\n// // number是数字，len是保留的位数，并且放大到的位数\n// // 例如\n// // formatAnswerNumber(0.03813, 2) => 38\n// // formatAnswerNumber(0.03813, 3) => 381\n// const formatAnswerNumber = (number, len) => {\n//     let n = number\n//     while (n < Math.pow(10, len - 1)) {\n//         n *= 10\n//     }\n//     return parseInt(n)\n// }\n\n// type: 1除法\n// type: 2加法\n// type: 3减法\nconst getData = (type = 1) => {\n    const arr = []\n    for (let i = 0; i < 20; i++) {\n        const a = getNumberFromLen(3)\n        const b = getNumberFromLen(3)\n        let answerObj = {}\n        if (type === 1) {\n            answerObj = {\n                answer: a / b,\n                formatAnswer: formatAnswerNumber(a / b, 2),\n            }\n        } else if (type === 2) {\n            answerObj = {\n                answer: a + b,\n                formatAnswer: a + b,\n            }\n        } else if (type === 3) {\n            answerObj = {\n                answer: a + b,\n                formatAnswer: a + b,\n            }\n        }\n        const obj = {\n            a,\n            b,\n            input: '',\n            time: '',\n            ...answerObj,\n        }\n        arr.push(obj)\n    }\n    return arr\n}\n\nconst defaultColumn = [\n    {\n        type: 'span',\n        label: 'a',\n        span: 5,\n    },\n    {\n        type: 'span',\n        label: 'b',\n        span: 5,\n    },\n    {\n        type: 'input',\n        label: 'a/b',\n        span: 6,\n    },\n    {\n        type: 'alert',\n        label: 'answer',\n        span: 4,\n    },\n    {\n        type: 'span',\n        label: 'time',\n        span: 4,\n    },\n]\n\nvar test = () => {\n    for (let i = 0.1; i <= 1; i += 0.01) {\n        console.log(\n            `${parseInt(i * 100)} / ${parseInt((1 + i) * 100)}`,\n            `${Math.round((i * 100) / (1 + i) / 10)}`\n        )\n    }\n}\n\nconst Calc = () => {\n    const [column, setColumn] = useState(defaultColumn)\n    const [calcMethod, setCalcMethod] = useState(1)\n    const [answerVisible, setAnswerVisible] = useState(false)\n    const [acceptRate, setAcceptRate] = useState(0)\n    const [data, setData] = useState(() => getData())\n    window.data = data\n    const [time, setTime] = useState({\n        start: '',\n        end: '',\n    })\n    const prefix = 'calc-wrap'\n    const onChange = e => {\n        const value = e.target.value\n        let label = ''\n        if (value == '1') {\n            label = 'a/b'\n        } else if (value == '2') {\n            label = 'a+b'\n        } else if (value == '3') {\n            label = 'a-b'\n        }\n        const newColumn = column.map(item => {\n            if (item.type === 'input') {\n                return {\n                    ...item,\n                    label,\n                }\n            } else {\n                return item\n            }\n        })\n        setColumn(newColumn)\n        const newData = getData(value)\n        console.log('newData', newData)\n        setData(newData)\n        setCalcMethod(value)\n        setAnswerVisible(false)\n    }\n\n    const handleChangeInput = (e, index) => {\n        const newData = data.map((item, j) => {\n            if (index === j) {\n                return {\n                    ...item,\n                    input: e.target.value,\n                }\n            }\n            return item\n        })\n        setData(newData)\n    }\n\n    const handleClickResult = () => {\n        setAnswerVisible(true)\n        let count = 0\n        data.forEach(item => {\n            const { input, formatAnswer } = item\n            if (Math.abs(input - formatAnswer) <= 1) {\n                count++\n            }\n        })\n        setAcceptRate(count)\n        setTime({\n            ...time,\n            end: parseInt((Date.now() - time.start) / 1000),\n        })\n    }\n\n    const handleClickInput = index => {\n        if (index === 0) {\n            console.log('start!!!')\n            setTime({\n                ...time,\n                start: Date.now(),\n            })\n        }\n    }\n\n    const handleBlur = index => {\n        const newData = data.map((item, j) => {\n            if (index === j) {\n                return {\n                    ...item,\n                    time: Date.now(),\n                }\n            } else {\n                return item\n            }\n        })\n        setData(newData)\n    }\n\n    return (\n        <div className={prefix}>\n            <div className={`${prefix}-method`}>\n                <Radio.Group onChange={onChange} value={calcMethod}>\n                    <Radio value={1}>除法</Radio>\n                    <Radio value={2}>加法</Radio>\n                    <Radio value={3}>减法</Radio>\n                </Radio.Group>\n            </div>\n            <div className={`${prefix}-content`}>\n                <div className='list'>\n                    <Row className='list-item'>\n                        {column.map((item, index) => {\n                            return (\n                                <Col\n                                    key={index}\n                                    className='list-item-num'\n                                    span={item.span}\n                                >\n                                    {item.label}\n                                </Col>\n                            )\n                        })}\n                    </Row>\n                    <Form>\n                        {data.map((item, index) => {\n                            const { a, b, input, formatAnswer } = item\n\n                            let consumeTime = item.time - time.start\n                            if (index > 1) {\n                                const preItem = data[index - 1]\n                                consumeTime = item.time - preItem.time\n                            }\n                            return (\n                                <Row className='list-item' key={index}>\n                                    <Col\n                                        span={5}\n                                        className='list-item-num list-item-a'\n                                    >\n                                        {a}\n                                    </Col>\n                                    <Col\n                                        span={5}\n                                        className='list-item-num list-item-b'\n                                    >\n                                        {b}\n                                    </Col>\n                                    <Col\n                                        span={6}\n                                        className='list-item-num list-item-b'\n                                    >\n                                        <Input\n                                            type='tel'\n                                            onClick={() =>\n                                                handleClickInput(index)\n                                            }\n                                            onChange={e =>\n                                                handleChangeInput(e, index)\n                                            }\n                                            onBlur={() => handleBlur(index)}\n                                            value={input}\n                                        />\n                                    </Col>\n                                    {answerVisible && (\n                                        <Col\n                                            span={4}\n                                            className='list-item-num list-item-c'\n                                        >\n                                            <Alert\n                                                message={formatAnswer}\n                                                type={\n                                                    Math.abs(\n                                                        input - formatAnswer\n                                                    ) <= 1\n                                                        ? 'success'\n                                                        : 'error'\n                                                }\n                                                showIcon\n                                            />\n                                        </Col>\n                                    )}\n                                    {answerVisible && (\n                                        <Col\n                                            span={4}\n                                            className='list-item-num list-item-c'\n                                        >\n                                            {parseInt(consumeTime / 1000)}\n                                        </Col>\n                                    )}\n                                </Row>\n                            )\n                        })}\n                    </Form>\n                    <Button onClick={handleClickResult}>验证结果</Button>\n                    <div>\n                        通过: {acceptRate}/{data.length}\n                    </div>\n                    <div>用时: {time.end}s</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Calc\n","import { Alert, Button, Col, Input, Radio, Row, Form } from 'antd'\nimport React, { useState } from 'react'\nimport { formatAnswerNumber, getNumberFromLen } from '../../utils/math'\nimport './Calc.scss'\n\n/**\n * {\n *    formula：'', // 算式\n *    formatAnswer: '', // 真实答案\n *    time: '', //耗时\n *    input: '', // inputValue用户输入的答案\n *    errorAnalysis:\n * }\n */\n// type: 1除法\n// type: 2加法\n// type: 3减法\nconst getData = (type = 1, count = 10) => {\n    // 除法\n    const divisionFn = () => {\n        const a = getNumberFromLen(3)\n        const b = getNumberFromLen(3)\n        return {\n            formula: (\n                <div>\n                    {a}\n                    <div className='divider'></div>\n                    {b}\n                </div>\n            ),\n            formatAnswer: formatAnswerNumber(a / b, 2),\n            // 误差小于1\n            errorAnalysis: (input, answer) => Math.abs(input - answer) <= 1,\n        }\n    }\n    // 高难度除法，不好算的数字\n    const divisionFn2 = () => {\n        let a = getNumberFromLen(3)\n        let b = getNumberFromLen(3)\n        let formatAnswer = formatAnswerNumber(a / b, 2)\n        while (formatAnswer / 10 < 5 || formatAnswer % 10 < 5) {\n            a = getNumberFromLen(3)\n            b = getNumberFromLen(3)\n            formatAnswer = formatAnswerNumber(a / b, 2)\n        }\n        return {\n            formula: (\n                <div>\n                    {a}\n                    <div className='divider'></div>\n                    {b}\n                </div>\n            ),\n            formatAnswer: formatAnswerNumber(a / b, 2),\n            // 误差小于1\n            errorAnalysis: (input, answer) => Math.abs(input - answer) <= 1,\n        }\n    }\n    // 增长率\n    const growthFn = () => {\n        // 现期量\n        const a = getNumberFromLen(3)\n        // 增长率\n        const b = getNumberFromLen(3) / 10\n        return {\n            formula: (\n                <div>\n                    <span>\n                        {a} * {b}%\n                    </span>\n                    <div className='divider'></div>\n                    <span>1 + {b}%</span>\n                </div>\n            ),\n            formatAnswer: Math.round((a * (b / 100)) / (1 + b / 100)),\n            // 误差5%以内\n            errorAnalysis: (input, answer) =>\n                Math.abs(input - answer) / answer <= 0.05,\n        }\n    }\n\n    // 加法\n    const addFn = () => {\n        const a = getNumberFromLen(3)\n        const b = getNumberFromLen(3)\n        return {\n            formula: (\n                <div>\n                    {a}+{b}\n                </div>\n            ),\n            formatAnswer: a + b,\n            // 不能有误差\n            errorAnalysis: (input, answer) => input - answer === 0,\n        }\n    }\n    // 减法\n    const subFn = () => {\n        const a = getNumberFromLen(3)\n        const b = getNumberFromLen(3)\n        return {\n            formula: (\n                <div>\n                    {a}-{b}\n                </div>\n            ),\n            formatAnswer: a - b,\n            // 不能有误差\n            errorAnalysis: (input, answer) => input - answer === 0,\n        }\n    }\n    // 两位数乘法误差允许3%以内\n    const mulFn = () => {\n        const a = getNumberFromLen(2)\n        const b = getNumberFromLen(2)\n        return {\n            formula: (\n                <div>\n                    {a} * {b}\n                </div>\n            ),\n            formatAnswer: a * b,\n            // 误差控制在3%\n            errorAnalysis: (input, answer) =>\n                Math.abs(input - answer) / answer <= 0.03,\n        }\n    }\n    // 3*1乘法\n    const threeMulToOneFn = () => {\n        let a = getNumberFromLen(3)\n        let b = getNumberFromLen(1)\n        while (a % 10 < 3 || b < 3) {\n            a = getNumberFromLen(3)\n            b = getNumberFromLen(1)\n        }\n        return {\n            formula: (\n                <div>\n                    {a} * {b}\n                </div>\n            ),\n            formatAnswer: a * b,\n            // 误差控制在3%\n            errorAnalysis: (input, answer) => input - answer === 0,\n        }\n    }\n    // 三位数乘法误差允许3%以内\n    const threeMulFn = () => {\n        const a = getNumberFromLen(3)\n        const b = getNumberFromLen(3)\n        return {\n            formula: (\n                <div>\n                    {a} * {b}\n                </div>\n            ),\n            formatAnswer: formatAnswerNumber(a * b, 3),\n            // 误差控制在3%\n            errorAnalysis: (input, answer) =>\n                Math.abs(input - answer) / answer <= 0.03,\n        }\n    }\n    // 特殊分数\n    const fractionFn = () => {\n        const map = {\n            '33.3%': 3,\n            '25%': 4,\n            '20%': 5,\n            '16.7%': 6,\n            '14.3%': 7,\n            '12.5%': 8,\n            '11.1%': 9,\n            '10%': 10,\n            '9.1%': 11,\n            '8.3%': 12,\n            '7.7%': 13,\n            '7.1%': 14,\n            '6.7%': 15,\n            '6.25%': 16,\n            '5.9%': 17,\n            '5.6%': 18,\n            '5.3%': 19,\n            '11%': 9.1,\n            '12%': 8.3,\n            '13%': 7.7,\n            '14%': 7.1,\n            '15%': 6.7,\n            '16%': 6.25,\n            '17%': 5.9,\n            '18%': 5.6,\n            '19%': 5.3,\n        }\n        const arr = Object.keys(map).sort(() => Math.random() - 0.5)\n        let index = -1\n        return () => {\n            index += 1\n            return {\n                formula: <div>{arr[index]}</div>,\n                formatAnswer: map[arr[index]],\n                errorAnalysis: (input, answer) => input - answer === 0,\n            }\n        }\n    }\n\n    // 加法\n    const mapTypeToFn = {\n        1: divisionFn,\n        2: growthFn,\n        3: addFn,\n        4: subFn,\n        5: mulFn,\n        6: threeMulFn,\n        7: fractionFn(),\n        8: divisionFn2,\n        9: threeMulToOneFn,\n    }\n    const arr = []\n    for (let i = 0; i < count; i++) {\n        let answerObj = mapTypeToFn[type]()\n        const obj = {\n            input: '',\n            time: '',\n            ...answerObj,\n        }\n        arr.push(obj)\n    }\n    return arr\n}\n\nconst defaultColumn = [\n    {\n        type: 'span',\n        label: '算式',\n        span: 8,\n    },\n    {\n        type: 'input',\n        label: '输入',\n        span: 6,\n    },\n    {\n        type: 'alert',\n        label: 'answer',\n        span: 6,\n    },\n    {\n        type: 'span',\n        label: 'time',\n        span: 4,\n    },\n]\n/**\n * 各清理了200米，\n * 前半段设甲效率是4，乙是3（设是x分钟）。 中间十分钟是4:0，提高效率后半段是4:6（50-x分钟）\n * 总效率是4:4\n * 则：4x+40 + 4（50-x） = 3x + 6*（50-x） => x+40 = 2*(50-x) => 2x = 60, x = 30\n * 甲60分钟清理了4*60 = 240，乙则是4*60 = 240\n * 所以乙后面工作了20分钟\n * 【例2】\n * 乙：7.5小时完成1/2+40个，甲：300个 =》 说明总量 = 640个\n * 1/2差40 = 280个， 所以360/7.5 = 720/15 = 48个\n * 【例7】设工作总量分别是120,150，晴天：甲效率是10 乙效率是10。 雨天：甲6，乙9。设晴天为x，雨天为y\n * 10x + 6y = 120\n * 10x + 9y = 150，y = 10。\n * 【例8】\n */\nconst Calc = () => {\n    const [column, setColumn] = useState(defaultColumn)\n    const [calcMethod, setCalcMethod] = useState(1)\n    const [answerVisible, setAnswerVisible] = useState(false)\n    const [acceptRate, setAcceptRate] = useState(0)\n    const [data, setData] = useState(() => getData())\n    window.data = data\n    const [time, setTime] = useState({\n        start: '',\n        end: '',\n    })\n    const prefix = 'calc-wrap'\n    const onChange = e => {\n        const value = e.target.value\n        const newData = getData(value)\n        setData(newData)\n        setCalcMethod(value)\n        setAnswerVisible(false)\n    }\n\n    const handleChangeInput = (e, index) => {\n        const newData = data.map((item, j) => {\n            if (index === j) {\n                return {\n                    ...item,\n                    input: e.target.value,\n                }\n            }\n            return item\n        })\n        setData(newData)\n    }\n\n    const handleClickResult = () => {\n        setAnswerVisible(true)\n        let count = 0\n        data.forEach(item => {\n            const { input, formatAnswer, errorAnalysis } = item\n            if (errorAnalysis(input, formatAnswer)) {\n                count++\n            }\n        })\n        setAcceptRate(count)\n        setTime({\n            ...time,\n            end: time.start ? parseInt((Date.now() - time.start) / 1000) : 0,\n        })\n    }\n\n    const handleClickInput = index => {\n        if (index === 0) {\n            console.log('start!!!')\n            setTime({\n                ...time,\n                start: Date.now(),\n            })\n        }\n    }\n\n    const handleBlur = index => {\n        const newData = data.map((item, j) => {\n            if (index === j) {\n                return {\n                    ...item,\n                    time: Date.now(),\n                }\n            } else {\n                return item\n            }\n        })\n        setData(newData)\n    }\n\n    const handleReset = () => {\n        setData(getData(calcMethod))\n        setAnswerVisible(false)\n        setAcceptRate(0)\n        setTime({\n            start: '',\n            end: '',\n        })\n    }\n    // 24133 44424 22443 43434\n    return (\n        <div className={prefix}>\n            <div className={`${prefix}-method`}>\n                <Button onClick={handleReset}>刷新数据</Button>\n                <Radio.Group onChange={onChange} value={calcMethod}>\n                    <Radio value={1}>除法</Radio>\n                    <Radio value={2}>增长量</Radio>\n                    <Radio value={3}>加法</Radio>\n                    <Radio value={4}>减法</Radio>\n                    <Radio value={5}>两位数乘法</Radio>\n                    <Radio value={6}>三位数乘法</Radio>\n                    <Radio value={7}>特殊分数</Radio>\n                    <Radio value={8}>高难度除法</Radio>\n                    <Radio value={9}>3*1乘法</Radio>\n                </Radio.Group>\n            </div>\n            <div className={`${prefix}-content`}>\n                <div className='list'>\n                    <Row className='list-item'>\n                        {column.map((item, index) => {\n                            return (\n                                <Col\n                                    key={index}\n                                    className='list-item-num'\n                                    span={item.span}\n                                >\n                                    {item.label}\n                                </Col>\n                            )\n                        })}\n                    </Row>\n                    <Form>\n                        {data.map((item, index) => {\n                            const {\n                                formula,\n                                input,\n                                formatAnswer,\n                                errorAnalysis,\n                            } = item\n                            let consumeTime = item.time - time.start\n                            if (index > 1) {\n                                const preItem = data[index - 1]\n                                consumeTime = item.time - preItem.time\n                            }\n                            return (\n                                <Row className='list-item' key={index}>\n                                    <Col\n                                        span={8}\n                                        className='list-item-num list-item-a'\n                                    >\n                                        {formula}\n                                    </Col>\n                                    <Col\n                                        span={6}\n                                        className='list-item-num list-item-b'\n                                    >\n                                        <Input\n                                            type='tel'\n                                            onClick={() =>\n                                                handleClickInput(index)\n                                            }\n                                            onChange={e =>\n                                                handleChangeInput(e, index)\n                                            }\n                                            onBlur={() => handleBlur(index)}\n                                            value={input}\n                                        />\n                                    </Col>\n                                    {answerVisible && (\n                                        <Col\n                                            span={6}\n                                            className='list-item-num list-item-c'\n                                        >\n                                            <Alert\n                                                message={formatAnswer}\n                                                type={\n                                                    errorAnalysis(\n                                                        input,\n                                                        formatAnswer\n                                                    )\n                                                        ? 'success'\n                                                        : 'error'\n                                                }\n                                                showIcon\n                                            />\n                                        </Col>\n                                    )}\n                                    {answerVisible && (\n                                        <Col\n                                            span={4}\n                                            className='list-item-num list-item-c'\n                                        >\n                                            {parseInt(consumeTime / 1000)}\n                                        </Col>\n                                    )}\n                                </Row>\n                            )\n                        })}\n                    </Form>\n                    <Button onClick={handleClickResult}>验证结果</Button>\n                    <div>\n                        通过: {acceptRate}/{data.length}\n                    </div>\n                    <div>用时: {time.end}s</div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Calc\n","import React, { useEffect } from 'react'\nimport './test.scss'\n\nconst Test = () => {\n    useEffect(() => {\n        function remLayoutFn() {\n            var oHtml = document.getElementsByTagName('html')[0]\n            var iWidth = document.documentElement.clientWidth\n            var defaultPercent = 100\n            iWidth = iWidth > 1080 ? 1080 : iWidth\n            var rootFontSize = iWidth / defaultPercent\n            oHtml.style.fontSize = rootFontSize + 'px'\n        }\n        remLayoutFn()\n        window.addEventListener('resize', remLayoutFn, false)\n\n        const box = document.querySelector('.box')\n        const wEl = document.querySelector('.width')\n        const hEl = document.querySelector('.height')\n        const { width, height } = box.getBoundingClientRect()\n        wEl.innerHTML = `宽：${width}`\n        hEl.innerHTML = `高：${height}`\n    }, [])\n    return (\n        <div className='wrap'>\n            <div className='box'></div>\n            <div className='width'>宽：</div>\n            <div className='height'>高：</div>\n        </div>\n    )\n}\n\nexport default Test\n","import React, { useState } from 'react'\nimport { Upload, message, Button, Divider } from 'antd'\nimport { InboxOutlined } from '@ant-design/icons'\nimport {\n    addCategoryQuestion,\n    addQuestion,\n    existQuestion,\n    getQuestionList,\n} from '../../service/question'\nimport { addExam, getExamList } from '../../service/exam'\nconst { Dragger } = Upload\n\nconst WrongQuestion = () => {\n    const [fileList, setFileList] = useState([])\n    const [uploading, setUploading] = useState(false)\n    const [dataSource, setDataSource] = useState([])\n    const props = {\n        name: 'file',\n        multiple: true,\n        action: '',\n        onChange(info) {\n            const { status } = info.file\n            window.file = info.file\n            if (status !== 'uploading') {\n                console.log(info.file, info.fileList)\n            }\n            if (status === 'done') {\n                message.success(`${info.file.name} file uploaded successfully.`)\n            } else if (status === 'error') {\n                message.error(`${info.file.name} file upload failed.`)\n            }\n        },\n        onDrop(e) {\n            console.log('Dropped files', e.dataTransfer.files)\n        },\n        beforeUpload: file => {\n            setFileList([...fileList, file])\n            const reader = new FileReader()\n\n            reader.onload = e => {\n                console.log('是个啥呀？', JSON.parse(e.target.result))\n                setDataSource(JSON.parse(e.target.result))\n            }\n            reader.readAsText(file)\n            return false\n        },\n    }\n\n    const filterRepeatQuestion = async question => {\n        let result = [1]\n        let qs = question\n        while (result.length > 0) {\n            const ids = qs.map(item => item.id)\n            result = await existQuestion(ids)\n            const set = new Set()\n            result.forEach(item => {\n                set.add(item.toJSON().id)\n            })\n            // 去重，上传不重复的\n            qs = qs\n                .filter(item => !set.has(item.id))\n                .map(item => {\n                    return {\n                        ...item,\n                        shortSource: null,\n                    }\n                })\n        }\n        return qs\n    }\n\n    const handleUpload = async () => {\n        const { category, question } = dataSource\n        const result = await filterRepeatQuestion(question)\n        if (result.length > 0) {\n            addCategoryQuestion({\n                content: category,\n            }).then(\n                res => {\n                    message.success('上传分类成功')\n                },\n                err => {\n                    message.error(err.error || '上传分类失败')\n                }\n            )\n\n            addQuestion(result).then(\n                res => {\n                    message.success('上传题目成功')\n                },\n                err => {\n                    message.error('上传题目失败')\n                }\n            )\n        } else {\n            message.error('没有新的数据')\n        }\n    }\n\n    // 上传训练题\n    const handleUploadTrain = async () => {\n        console.log('dataSource', dataSource)\n        const question = dataSource\n        const result = await getExamList()\n        const set = new Set()\n        result.forEach(item => {\n            set.add(item.toJSON().id)\n        })\n        // 去重，上传不重复的\n        const questionData = question\n            .filter(item => !set.has(item.id))\n            .map(item => {\n                return {\n                    ...item,\n                    shortSource: null,\n                }\n            })\n        message.success(`重复题目：${question.length - questionData.length}`)\n        if (questionData.length > 0) {\n            addExam(questionData).then(\n                res => {\n                    message.success('上传题目成功')\n                },\n                err => {\n                    message.error('上传题目失败')\n                }\n            )\n        } else {\n            message.error('没有新的数据')\n        }\n    }\n\n    return (\n        <div className='wrong'>\n            <div className='upload'>\n                <Dragger {...props}>\n                    <p className='ant-upload-drag-icon'>\n                        <InboxOutlined />\n                    </p>\n                    <p className='ant-upload-text'>\n                        Click or drag file to this area to upload\n                    </p>\n                    <p className='ant-upload-hint'>\n                        Support for a single or bulk upload. Strictly prohibit\n                        from uploading company data or other band files\n                    </p>\n                </Dragger>\n                <div className='upload-btn'>\n                    <Button\n                        type='primary'\n                        onClick={handleUpload}\n                        loading={uploading}\n                        style={{ marginTop: 16 }}\n                    >\n                        上传错题\n                    </Button>\n                    <Divider />\n                    <Button\n                        type='primary'\n                        onClick={handleUploadTrain}\n                        loading={uploading}\n                        style={{ marginTop: 16 }}\n                    >\n                        上传训练题\n                    </Button>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default WrongQuestion\n","import React, { useEffect, useState } from 'react'\nimport { Upload, Tree, Button } from 'antd'\nimport { InboxOutlined } from '@ant-design/icons'\nimport {\n    addCategoryQuestion,\n    addQuestion,\n    getCategoryQuestion,\n    getQuestionList,\n} from '../../service/question'\nimport './XingCe.scss'\nimport { useHistory } from 'react-router'\n\nconst XingCe = () => {\n    const [categoryList, setCategoryList] = useState([])\n    const history = useHistory()\n    useEffect(() => {\n        getCategoryQuestion().then(res => {\n            const data = res.toJSON().content\n            processCategoryList(data)\n            console.log('res', data)\n            setCategoryList(data)\n        })\n    }, [])\n\n    // 开始练习\n    const handleClickPractice = (questionIds, id) => {\n        history.push(`/xingce/${id}`)\n    }\n\n    const processCategoryList = data => {\n        // 处理数据\n        data.forEach(item => {\n            item.title = (\n                <div className='category-item'>\n                    <div className='name'>{item.name}</div>\n                    <div className='num'>{item.questionIds.length}题</div>\n                    <div className='practice'>\n                        <Button\n                            onClick={() =>\n                                handleClickPractice(item.questionIds, item.id)\n                            }\n                            shape='round'\n                        >\n                            开始练习\n                        </Button>\n                    </div>\n                </div>\n            )\n            item.key = item.id\n            if (item.children) {\n                processCategoryList(item.children)\n            }\n        })\n    }\n\n    return (\n        <div className='xing-ce'>\n            hello, world\n            <div className='category'>\n                <Tree className='xing-ce-tree' treeData={categoryList} />\n            </div>\n        </div>\n    )\n}\n\nexport default XingCe\n","import React, { useEffect, useState } from 'react'\nimport { message } from 'antd'\nimport classNames from 'classnames'\nimport { getCategoryQuestion, getQuestionList } from '../../service/question'\nimport './XingCe.scss'\nimport { useParams } from 'react-router'\nimport Answer from './components/Answer'\nimport { getExamList } from '../../service/exam'\nimport CollectIcon from './components/CollectIcon'\nimport {\n    addCollect,\n    deleteCollect,\n    getCollectList,\n} from '../../service/collect'\n\nconst XingCeList = () => {\n    const params = useParams()\n    const [categoryList, setCategoryList] = useState([])\n    const [collectMap, setCollectMap] = useState({})\n    const [dataSource, setDataSource] = useState([])\n    useEffect(() => {\n        getCategoryQuestion().then(res => {\n            const data = res.toJSON().content\n            setCategoryList(data)\n        })\n\n        getCollect()\n    }, [])\n\n    useEffect(() => {\n        const getQuestionIds = (data, id, callback) => {\n            for (let i = 0; i < data.length; i++) {\n                const item = data[i]\n                if (item.id == id) {\n                    callback(item.questionIds)\n                    return\n                }\n                if (item.children) {\n                    getQuestionIds(item.children, id, callback)\n                }\n            }\n        }\n        const id = params.objectId\n        if (id.includes(',')) {\n            console.log('123', id.split(','))\n            const questionIds = id\n                .split(',')\n                .filter(item => item != '')\n                .map(item => parseInt(item))\n\n            getExamList(questionIds).then(res => {\n                if (res.length === questionIds.length) {\n                    const data = res.map(item => item.toJSON())\n                    setDataSource(data)\n                } else {\n                    getQuestionList(questionIds).then(res => {\n                        const data = res.map(item => item.toJSON())\n                        setDataSource(data)\n                    })\n                }\n            })\n        } else {\n            if (categoryList.length > 0) {\n                let questionIds = ''\n                getQuestionIds(categoryList, id, res => {\n                    questionIds = res\n                })\n                if (questionIds) {\n                    getQuestionList(questionIds).then(res => {\n                        const data = res.map(item => item.toJSON())\n                        setDataSource(data)\n                    })\n                } else {\n                    message.error('题目不存在')\n                }\n            }\n        }\n    }, [categoryList, params])\n\n    const getCollect = () => {\n        getCollectList().then(res => {\n            const data = res.map(item => item.toJSON())\n            const newMap = {}\n            data.forEach(item => {\n                newMap[item.id] = item.objectId\n            })\n            setCollectMap(newMap)\n        })\n    }\n\n    const handleSelectOption = (item, index) => {\n        const choice = item.correctAnswer.choice\n        const questionId = item.id\n        let status = ''\n        if (choice == index) {\n            status = 'correct'\n        } else {\n            status = 'wrong'\n        }\n        const newDataSource = dataSource.map(item => {\n            if (item.id === questionId) {\n                return {\n                    ...item,\n                    answerVisible: true,\n                    status,\n                    selectIndex: index,\n                }\n            } else {\n                return item\n            }\n        })\n        setDataSource(newDataSource)\n    }\n\n    const handleClose = item => {\n        const questionId = item.id\n        const newDataSource = dataSource.map(item => {\n            if (item.id === questionId) {\n                return {\n                    ...item,\n                    answerVisible: false,\n                    status: '',\n                    selectIndex: '',\n                }\n            } else {\n                return item\n            }\n        })\n        setDataSource(newDataSource)\n    }\n\n    const handleCollect = (item, checked) => {\n        if (checked) {\n            // 取消收藏\n            const objectId = collectMap[item.id]\n            console.log('objectId', objectId)\n            deleteCollect(objectId)\n                .then(() => {\n                    message.success('取消收藏')\n                    getCollect()\n                })\n                .catch(err => {\n                    message.error('取消失败')\n                })\n        } else {\n            // 点击收藏\n            addCollect([{ id: item.id }])\n                .then(() => {\n                    //\n                    message.success('收藏成功')\n                    getCollect()\n                })\n                .catch(err => {\n                    message.error('收藏失败')\n                })\n        }\n    }\n\n    console.log('collectMap', collectMap)\n    return (\n        <div className='wrap'>\n            <h2>错题整理</h2>\n            <div className='wrap-print'>\n                <div className='list'>\n                    {dataSource.map((item, index) => {\n                        let layout = 'four'\n                        // 任一选项文字长度超过10，则选择两栏布局\n                        // 任一选项文字长度超过20，则选择一栏布局\n                        // 否则使用四栏布局\n                        const itemLength = []\n                        item.accessories[0].options.forEach(item => {\n                            itemLength.push(item.length)\n                        })\n                        const len = Math.max(...itemLength)\n                        if (len >= 20) {\n                            layout = 'one'\n                        } else if (len > 10) {\n                            layout = 'two'\n                        }\n                        const cls = classNames({\n                            question: true,\n                            [item.status]: item.status,\n                        })\n                        return (\n                            <div key={item.id} className='item'>\n                                <div className={cls}>\n                                    <span>{index + 1}.</span>\n                                    <div className='content'>\n                                        <div className='title'>\n                                            <span\n                                                dangerouslySetInnerHTML={{\n                                                    __html: item.content,\n                                                }}\n                                            ></span>\n                                            <CollectIcon\n                                                checked={collectMap[item.id]}\n                                                onClick={() =>\n                                                    handleCollect(\n                                                        item,\n                                                        collectMap[item.id]\n                                                    )\n                                                }\n                                            />\n                                        </div>\n\n                                        <div className={`options ${layout}`}>\n                                            {item.accessories[0] &&\n                                                item.accessories[0].options.map(\n                                                    (option, pos) => {\n                                                        const mapIndexToLetter =\n                                                            ['A', 'B', 'C', 'D']\n                                                        let status =\n                                                            pos ==\n                                                                item.selectIndex &&\n                                                            item.status ==\n                                                                'correct'\n                                                                ? 'correct'\n                                                                : 'wrong'\n                                                        const optionCls =\n                                                            classNames({\n                                                                option: true,\n                                                                [status]:\n                                                                    pos ===\n                                                                    item.selectIndex,\n                                                            })\n                                                        return (\n                                                            <div\n                                                                key={pos}\n                                                                onClick={() =>\n                                                                    handleSelectOption(\n                                                                        item,\n                                                                        pos\n                                                                    )\n                                                                }\n                                                                className={\n                                                                    optionCls\n                                                                }\n                                                            >\n                                                                <span className='num'>\n                                                                    {\n                                                                        mapIndexToLetter[\n                                                                            pos\n                                                                        ]\n                                                                    }\n                                                                    .\n                                                                </span>\n                                                                <span\n                                                                    dangerouslySetInnerHTML={{\n                                                                        __html: option,\n                                                                    }}\n                                                                ></span>\n                                                            </div>\n                                                        )\n                                                    }\n                                                )}\n                                        </div>\n                                    </div>\n                                </div>\n                                {item.answerVisible && (\n                                    <Answer\n                                        onClose={() => handleClose(item)}\n                                        data={item}\n                                    />\n                                )}\n                            </div>\n                        )\n                    })}\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default XingCeList\n","import React, { useEffect, useState } from 'react'\nimport { ExclamationCircleOutlined } from '@ant-design/icons'\nimport {\n    Button,\n    Cascader,\n    Divider,\n    Input,\n    message,\n    Modal,\n    Tree,\n    Form,\n    Skeleton,\n} from 'antd'\nimport {\n    addCustomWrongQuestionCategory,\n    getCustomWrongQuestionCategory,\n} from '../../../service/question'\nimport lodash from 'lodash'\nimport { useHistory } from 'react-router'\n\nconst { TextArea } = Input\nconst { confirm } = Modal\n\n// 分类树\nconst CategoryTree = props => {\n    const history = useHistory()\n    const [form] = Form.useForm()\n    const [treeData, setTreeData] = useState([])\n    const [showData, setShowData] = useState([])\n    const [cascaderOptions, setCascaderOptions] = useState([])\n    const [inputValue, setInputValue] = useState()\n    const [deleteInputValue, setDeleteInputValue] = useState()\n    const [isModalVisible, setIsModalVisible] = useState(false)\n    const [addModalVisible, setAddModalVisible] = useState(false)\n    const [deleteModalVisible, setDeleteModalVisible] = useState(false)\n    const [checkedQuestionIds, setCheckedQuestionIds] = useState([])\n    /**\n     * 17:10 (33) 17:38\n     * 12212 13142 33412 12312 42214 43433 21321 33244\n     */\n    const onSelect = (selectedKeys, info) => {\n        const selectedKey = selectedKeys[selectedKeys.length - 1]\n        console.log('selected', selectedKey, info)\n        const qIds = []\n        info.checkedNodes.forEach(item => {\n            qIds.push(...item.questionIds)\n        })\n        setCheckedQuestionIds(qIds)\n        console.log('qIDs', qIds)\n    }\n\n    useEffect(() => {\n        getCustomCategory()\n    }, [])\n\n    useEffect(() => {\n        setInputValue(JSON.stringify(treeData, null, 4))\n\n        //\n        const getQuestionIdCount = treeNode => {\n            if (!treeNode) return 0\n            let count = 0\n            treeNode.forEach(item => {\n                count += item.questionIds.length\n                if (item.children) {\n                    count += getQuestionIdCount(item.children)\n                }\n            })\n            return count\n        }\n\n        const dfs = data => {\n            const result = []\n            for (let i = 0; i < data.length; i++) {\n                let obj = {}\n                const item = data[i]\n                const count =\n                    item.questionIds.length + getQuestionIdCount(item.children)\n                obj.title = (\n                    <div style={{ display: 'flex' }} className='tree-title'>\n                        <div className='name'>{item.title}</div>\n                        <div\n                            style={{\n                                marginLeft: '30px',\n                                fontSize: '12px',\n                                color: '#5f6368',\n                            }}\n                            className='num'\n                        >\n                            {`${count}题`}\n                        </div>\n                    </div>\n                )\n                obj.key = item.key\n                if (item.questionIds) {\n                    obj.questionIds = item.questionIds\n                }\n                if (item.children) {\n                    obj.children = dfs(item.children)\n                }\n                result.push(obj)\n            }\n            return result\n        }\n        const newShowData = dfs(treeData)\n        setShowData(newShowData)\n    }, [treeData])\n\n    const getCustomCategory = () => {\n        const getCascaderData = data => {\n            const result = []\n            for (let i = 0; i < data.length; i++) {\n                let obj = {}\n                const item = data[i]\n                obj.label = item.title\n                obj.value = item.key\n                if (item.children) {\n                    obj.children = getCascaderData(item.children)\n                }\n                result.push(obj)\n            }\n            return result\n        }\n        getCustomWrongQuestionCategory().then(res => {\n            const data = res.toJSON().content\n            setTreeData(data)\n            const result = getCascaderData(data)\n            console.log('caD', result)\n            setCascaderOptions(result)\n        })\n    }\n\n    const onCheck = (selectedKeys, info) => {\n        const qIds = []\n        info.checkedNodes.forEach(item => {\n            qIds.push(...item.questionIds)\n        })\n        setCheckedQuestionIds(qIds)\n    }\n\n    const handleOk = type => {\n        if (type === 'category') {\n            try {\n                const data = JSON.parse(inputValue)\n                addCustomWrongQuestionCategory({ content: data })\n                    .then(() => {\n                        setIsModalVisible(false)\n                        getCustomCategory()\n                        message.success('更新成功！')\n                    })\n                    .catch(() => {\n                        message.error('更新失败！')\n                    })\n            } catch (error) {\n                message.error('格式有误！')\n            }\n        } else if (type === 'question') {\n            submitQuestion()\n        } else if (type === 'delete') {\n            deleteQuestion()\n        }\n    }\n\n    const handleCancel = type => {\n        if (type === 'category') {\n            setIsModalVisible(false)\n        } else {\n            form.resetFields()\n            setAddModalVisible(false)\n        }\n    }\n\n    const handleInputChange = e => {\n        setInputValue(e.target.value)\n    }\n\n    const handleClickPractice = () => {\n        history.push(`/xingce/${checkedQuestionIds.toString()},`)\n    }\n\n    const handleClickCategory = () => {\n        setIsModalVisible(true)\n    }\n\n    const handleAddQuestion = () => {\n        setAddModalVisible(true)\n    }\n\n    const handleDeleteQuestion = () => {\n        setDeleteModalVisible(true)\n    }\n\n    const submitQuestion = () => {\n        console.log('form', form.getFieldsValue())\n        form.validateFields()\n            .then(res => {\n                const { question, category } = form.getFieldsValue()\n                const qIds = question.split(',')\n                // 取最后一位ID找\n                const id = category[category.length - 1]\n                const dfs = (data, objectId) => {\n                    const result = []\n                    for (let i = 0; i < data.length; i++) {\n                        let obj = {}\n                        const item = data[i]\n                        obj.title = item.title\n                        obj.key = item.key\n                        if (item.questionIds) {\n                            obj.questionIds = item.questionIds\n                        }\n                        if (item.children) {\n                            obj.children = dfs(item.children, objectId)\n                        }\n                        if (item.key == objectId) {\n                            // 取交集\n                            const interArr = lodash.intersection(\n                                obj.questionIds,\n                                qIds\n                            )\n                            console.log(\n                                'obj.questionIds,',\n                                obj.questionIds,\n                                qIds\n                            )\n                            if (interArr.length > 0) {\n                                message.error(\n                                    `您添加的部分题目已存在， ${interArr.toString()}`\n                                )\n                            } else {\n                                // 将题目添加进去\n                                const newQuestionIds =\n                                    obj.questionIds.concat(qIds)\n                                obj.questionIds = newQuestionIds\n                            }\n                            console.log('添加题目所在的ITEM', item)\n                        }\n                        result.push(obj)\n                    }\n                    return result\n                }\n\n                const newData = dfs(treeData, id)\n                // 前后有变化才更新\n                if (!lodash.isEqual(newData, treeData)) {\n                    addCustomWrongQuestionCategory({ content: newData })\n                        .then(() => {\n                            setIsModalVisible(false)\n                            getCustomCategory()\n                            message.success(\n                                `添加成功！共添加${\n                                    qIds.length\n                                }道题，${qIds.toString()}`\n                            )\n                        })\n                        .catch(() => {\n                            message.error('添加失败！')\n                        })\n                }\n            })\n            .catch(err => {\n                console.log('err', err)\n            })\n    }\n\n    const deleteQuestion = () => {\n        const deleteIds = deleteInputValue.split(',')\n        if (deleteIds.length <= 0) {\n            message.error('请输入正确格式')\n            return\n        }\n        const dfs = (data, deleteIds, arr) => {\n            const result = []\n            for (let i = 0; i < data.length; i++) {\n                let obj = {}\n                const item = data[i]\n                obj.title = item.title\n                obj.key = item.key\n                if (item.questionIds) {\n                    // 过滤掉数组中包含deleteIds的元素\n                    const newIds = lodash.without(\n                        item.questionIds,\n                        ...deleteIds\n                    )\n                    if (newIds.length !== item.questionIds.length) {\n                        // 求交集，看哪个元素被删除了\n                        const xorIds = lodash.xor(item.questionIds, newIds)\n                        // 求并集\n                        arr.push({\n                            title: obj.title,\n                            ids: xorIds,\n                        })\n                    }\n                    obj.questionIds = newIds\n                }\n                if (item.children) {\n                    obj.children = dfs(item.children, deleteIds, arr)\n                }\n                result.push(obj)\n            }\n            return result\n        }\n        // 删除信息\n        let arr = []\n        const newData = dfs(treeData, deleteIds, arr)\n        console.log('newData', newData)\n        console.log('treeData', treeData)\n        if (arr.length > 0) {\n            confirm({\n                title: '您确定要删除这些题目吗?',\n                icon: <ExclamationCircleOutlined />,\n                content: (\n                    <div>\n                        {arr.map((item, index) => {\n                            return (\n                                <div key={index}>\n                                    {item.title}: {item.ids.toString()}\n                                </div>\n                            )\n                        })}\n                    </div>\n                ),\n                onOk() {\n                    addCustomWrongQuestionCategory({ content: newData })\n                        .then(() => {\n                            setDeleteModalVisible(false)\n                            getCustomCategory()\n                            message.success(`删除成功！`)\n                        })\n                        .catch(() => {\n                            message.error('删除失败！')\n                        })\n                },\n                onCancel() {\n                    console.log('Cancel')\n                },\n            })\n        } else {\n            message.warn('没有找到该题！')\n        }\n    }\n\n    const onFinish = values => {\n        console.log('values', values)\n    }\n\n    const handleClickPreview = () => {\n        const { question } = form.getFieldsValue()\n        window.open(\n            `https://zmojm.github.io/build/index.html#/xingce/${question},`,\n            '',\n            'width=800,height=1000'\n        )\n    }\n\n    const handleDeletePreview = () => {\n        window.open(\n            `https://zmojm.github.io/build/index.html#/xingce/${deleteInputValue},`,\n            '',\n            'width=800,height=1000'\n        )\n    }\n\n    return (\n        <div className='category-tree'>\n            {showData.length > 0 ? (\n                <Tree\n                    defaultExpandAll\n                    checkable\n                    onSelect={onSelect}\n                    onCheck={onCheck}\n                    treeData={showData}\n                />\n            ) : (\n                <Skeleton />\n            )}\n\n            <Divider />\n            <span>已勾选{checkedQuestionIds.length}题</span>\n            <Divider type='vertical' />\n            <Button onClick={handleClickPractice}>开始练习</Button>\n            <Divider />\n            <Button onClick={handleClickCategory}>更新分类</Button>\n            <Divider type='vertical' />\n            <Button onClick={handleAddQuestion}>添加错题</Button>\n            <Divider type='vertical' />\n            <Button danger onClick={handleDeleteQuestion}>\n                删除\n            </Button>\n\n            <Modal\n                width={800}\n                title='更新分类'\n                visible={isModalVisible}\n                onOk={() => handleOk('category')}\n                onCancel={() => handleCancel('category')}\n            >\n                <TextArea\n                    rows={20}\n                    value={inputValue}\n                    onChange={handleInputChange}\n                />\n            </Modal>\n            <Modal\n                width={600}\n                title='添加错题'\n                visible={addModalVisible}\n                okText='提交'\n                okCancel='取消'\n                onOk={() => handleOk('question')}\n                onCancel={() => handleCancel('question')}\n            >\n                <Form\n                    form={form}\n                    name='basic'\n                    initialValues={{ remember: true }}\n                    onFinish={onFinish}\n                    autoComplete='off'\n                >\n                    <Form.Item\n                        label='分类'\n                        name='category'\n                        rules={[\n                            {\n                                required: true,\n                                message: '请选择分类',\n                            },\n                        ]}\n                    >\n                        <Cascader\n                            options={cascaderOptions}\n                            placeholder='Please select'\n                        />\n                    </Form.Item>\n\n                    <Form.Item\n                        label='题目'\n                        name='question'\n                        rules={[\n                            {\n                                required: true,\n                                message: '请输入题目',\n                            },\n                        ]}\n                    >\n                        <Input />\n                    </Form.Item>\n\n                    <Form.Item>\n                        <Button onClick={handleClickPreview}>预览</Button>\n                    </Form.Item>\n                </Form>\n            </Modal>\n\n            <Modal\n                width={600}\n                title='删除错题'\n                visible={deleteModalVisible}\n                okText='提交'\n                okCancel='取消'\n                onOk={() => handleOk('delete')}\n                onCancel={() => setDeleteModalVisible(false)}\n            >\n                <Input\n                    value={deleteInputValue}\n                    onChange={e => setDeleteInputValue(e.target.value)}\n                />\n                <Divider />\n                <Button onClick={handleDeletePreview}>预览</Button>\n            </Modal>\n        </div>\n    )\n}\n\nexport default CategoryTree\n","// 考试模式\nimport React, { useEffect, useState } from 'react'\nimport { Button, Divider, message, Modal, Select } from 'antd'\nimport { getCategoryQuestion } from '../../service/question'\nimport './XingCe.scss'\nimport './Exam.scss'\nimport { useHistory } from 'react-router'\nimport { getExamList } from '../../service/exam'\nimport { getCollectList } from '../../service/collect'\nimport CategoryTree from './components/CategoryTree'\nconst { Option } = Select\n\nconst Exam = () => {\n    const [isModalVisible, setIsModalVisible] = useState(false)\n    const [dataSource, setDataSource] = useState([])\n    const [selectIndex, setSelectIndex] = useState(0)\n    const [pageList, setPageList] = useState([])\n    const [collectList, setCollectList] = useState([])\n    const history = useHistory()\n    useEffect(() => {\n        getExamList().then(res => {\n            const data = res.map(item => item.toJSON())\n            setDataSource(data)\n\n            const newPageList = []\n            for (let i = 0; i < data.length; i += 10) {\n                const item = data.slice(i, i + 10)\n                newPageList.push(item)\n            }\n            setPageList(newPageList)\n        })\n    }, [])\n\n    useEffect(() => {\n        getCollectList()\n            .then(res => {\n                const data = res.map(item => item.toJSON())\n                const ids = data.map(item => item.id)\n                setCollectList(ids)\n            })\n            .catch(err => {\n                message.error('获取数据失败')\n            })\n    }, [])\n\n    // 开始练习\n    const handleClickPractice = () => {\n        const ids = pageList[selectIndex].map(item => item.id)\n        console.log('ids', ids.toString())\n        history.push(`/xingce/${ids.toString()}`)\n    }\n\n    const copyText = text => {\n        var textarea = document.createElement('textarea')\n        document.body.appendChild(textarea)\n        // 隐藏此输入框\n        textarea.style.position = 'fixed'\n        textarea.style.clip = 'rect(0 0 0 0)'\n        textarea.style.top = '10px'\n        // 赋值\n        textarea.value = text\n        // 选中\n        textarea.select()\n        // 复制\n        document.execCommand('copy', true)\n        // 移除输入框\n        document.body.removeChild(textarea)\n    }\n\n    const handleCopy = dataSource => {\n        const data = dataSource || pageList[selectIndex]\n        let html = ''\n        data.forEach(item => {\n            // item.content是内容\n            // item.accessories[0].options是选项\n            // item.correctAnswer.choice是答案\n            const choice = item.correctAnswer.choice\n            let rightAnswer = ''\n            const option = item.accessories[0].options.map((item, index) => {\n                if (index == choice) {\n                    rightAnswer = `<strong>「${item}」</strong>`\n                }\n                return `<span>「${item}」</span>`\n            })\n            const qaItem = `\n                <div class=\"qa-item\">\n                    ${item.content}<input style=\"border: none; width: 300px; height: 35px; font-weight: bold;\" />\n                    <details>\n                        <summary>查看</summary>\n                        <div>${option}</div>\n                    </details>\n                    <details>\n                        <summary>正确</summary>\n                        ${rightAnswer}\n                    </details>\n                </div>\n                `\n            html += qaItem\n        })\n        const result = `<div style=\"height: 300px; overflow-y: scroll;\">${html}</div>`\n        // 复制成功\n        copyText(result)\n        message.success('已复制!')\n    }\n\n    const handleChange = index => {\n        setSelectIndex(index)\n    }\n\n    const handleCollect = () => {\n        history.push(`/xingce/${collectList.toString()}`)\n    }\n\n    const handleCollectCopy = () => {\n        getExamList(collectList).then(res => {\n            const data = res.map(item => item.toJSON())\n            handleCopy(data)\n        })\n    }\n\n    return (\n        <div className='exam'>\n            能力训练\n            <div className='category'>\n                <div className='read'>\n                    <h3>阅读概括能力</h3>\n                    {/* <Tree className='xing-ce-tree' treeData={categoryList} /> */}\n                    <Select style={{ width: 120 }} onChange={handleChange}>\n                        {pageList.map((item, index) => {\n                            return (\n                                <Option\n                                    key={index}\n                                    value={index}\n                                >{`套卷 ${index}`}</Option>\n                            )\n                        })}\n                    </Select>\n                    <Divider type='vertical' />\n                    <Button onClick={handleClickPractice}>开始练习</Button>\n                    <Divider type='vertical' />\n                    <Button onClick={() => handleCopy()}>复制套题</Button>\n                    <Divider type='vertical' />\n                    <Button onClick={handleCollect}>收藏题练习</Button>\n                    <Divider type='vertical' />\n                    <Button onClick={handleCollectCopy}>收藏题复制</Button>\n                </div>\n                <Divider />\n                <div className='wrong-question'>\n                    <h3>错题训练</h3>\n                    <CategoryTree />\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Exam\n","import React, { useEffect, useState } from 'react'\nimport { HashRouter, Route, Switch, useParams } from 'react-router-dom'\nimport Header from '../feature/edit/Header/Header'\nimport Annotation from '../feature/edit/Annotation/Annotation'\nimport Comment from '../feature/edit/Comment/Comment'\nimport Highlighter from 'web-highlighter'\nimport Admin from '../feature/admin/Admin'\nimport Book from '../feature/book/Book'\nimport BookList from '../feature/book/BookList'\nimport Algorithm from '../feature/algorithm/Algorithm'\nimport Calc from '../feature/calc/Calc'\nimport Calc2 from '../feature/calc/Calc2'\nimport Test from './test'\nimport WrongQuestion from '../feature/wrongQuestion/WrongQuestion'\nimport './App.scss'\nimport XingCe from '../feature/xingce/XingCe'\nimport XingCeList from '../feature/xingce/XingCeList'\nimport Exam from '../feature/xingce/Exam'\n\nconst Edit = () => {\n    const params = useParams()\n    const [highlighter, setHighlighter] = useState(\n        new Highlighter({\n            exceptSelectors: ['.ant-list-item'],\n        })\n    )\n    useEffect(() => {\n        const h = new Highlighter({\n            exceptSelectors: ['.ant-list-item'],\n        })\n        setHighlighter(h)\n\n        return () => {\n            h.dispose()\n        }\n    }, [params])\n\n    return (\n        <div className='yryr-home'>\n            <Header />\n            <div className='main'>\n                <Annotation key={highlighter} highlighter={highlighter} />\n                <Comment key={highlighter} highlighter={highlighter} />\n            </div>\n        </div>\n    )\n}\n\nconst App = () => {\n    return (\n        <HashRouter>\n            <Switch>\n                <Route exact path='/' component={Admin} />\n                <Route exact path='/admin' component={Admin} />\n                <Route exact path='/edit/:objectId' component={Edit} />\n                <Route exact path='/algorithm' component={Algorithm} />\n                <Route exact path='/calc' component={Calc} />\n                <Route exact path='/calc2' component={Calc2} />\n                <Route exact path='/test' component={Test} />\n                <Route exact path='/book' component={Book} />\n                <Route exact path='/book/:objectId' component={BookList} />\n                <Route exact path='/question' component={WrongQuestion} />\n                {/* 这两个是打印模式 */}\n                <Route exact path='/XingCe' component={XingCe} />\n                <Route exact path='/XingCe/:objectId' component={XingCeList} />\n                {/* 考试模式，提高能力 */}\n                <Route exact path='/exam' component={Exam} />\n            </Switch>\n        </HashRouter>\n    )\n}\n\nexport default App\n","import { configureStore } from '@reduxjs/toolkit'\nimport annotationReducer from '../feature/edit/Annotation/AnnotationSlice'\nimport headerReducer from '../feature/edit/Header/HeaderSlice'\n\nexport const store = configureStore({\n    reducer: {\n        annotation: annotationReducer,\n        header: headerReducer,\n    },\n})\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './app/App'\nimport { Provider } from 'react-redux'\nimport 'antd/dist/antd.css'\nimport './index.css'\nimport { store } from './store'\n\nReactDOM.render(\n    <Provider store={store}>\n        <App />\n    </Provider>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}